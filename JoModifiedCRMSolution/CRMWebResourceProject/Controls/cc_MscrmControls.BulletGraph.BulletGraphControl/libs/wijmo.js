/*
    *
    * Wijmo Library 5.20152.93
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
*/
var wijmo;(function(wijmo){"use strict";var _VERSION="5.20152.93";function getVersion(){return _VERSION}wijmo.getVersion=getVersion;(function(Key){Key[Key["Back"]=8]="Back";Key[Key["Tab"]=9]="Tab";Key[Key["Enter"]=13]="Enter";Key[Key["Escape"]=27]="Escape";Key[Key["Space"]=32]="Space";Key[Key["PageUp"]=33]="PageUp";Key[Key["PageDown"]=34]="PageDown";Key[Key["End"]=35]="End";Key[Key["Home"]=36]="Home";Key[Key["Left"]=37]="Left";Key[Key["Up"]=38]="Up";Key[Key["Right"]=39]="Right";Key[Key["Down"]=40]="Down";Key[Key["Delete"]=46]="Delete";Key[Key["F1"]=112]="F1";Key[Key["F2"]=113]="F2";Key[Key["F3"]=114]="F3";Key[Key["F4"]=115]="F4";Key[Key["F5"]=116]="F5";Key[Key["F6"]=117]="F6";Key[Key["F7"]=118]="F7";Key[Key["F8"]=119]="F8";Key[Key["F9"]=120]="F9";Key[Key["F10"]=121]="F10";Key[Key["F11"]=122]="F11";Key[Key["F12"]=123]="F12"})(wijmo.Key||(wijmo.Key={}));var Key=wijmo.Key;(function(DataType){DataType[DataType["Object"]=0]="Object";DataType[DataType["String"]=1]="String";DataType[DataType["Number"]=2]="Number";DataType[DataType["Boolean"]=3]="Boolean";DataType[DataType["Date"]=4]="Date";DataType[DataType["Array"]=5]="Array"})(wijmo.DataType||(wijmo.DataType={}));var DataType=wijmo.DataType;function tryCast(value,type){if(value==null){return null}if(isString(type)){return isFunction(value.implementsInterface)&&value.implementsInterface(type)?value:null}return value instanceof type?value:null}wijmo.tryCast=tryCast;function isPrimitive(value){return isString(value)||isNumber(value)||isBoolean(value)||isDate(value)}wijmo.isPrimitive=isPrimitive;function isString(value){return typeof value=="string"}wijmo.isString=isString;function isNullOrWhiteSpace(value){return value==null?true:value.replace(/\s/g,"").length<1}wijmo.isNullOrWhiteSpace=isNullOrWhiteSpace;function isNumber(value){return typeof value=="number"}wijmo.isNumber=isNumber;function isInt(value){return isNumber(value)&&value==Math.round(value)}wijmo.isInt=isInt;function isBoolean(value){return typeof value=="boolean"}wijmo.isBoolean=isBoolean;function isFunction(value){return typeof value=="function"}wijmo.isFunction=isFunction;function isUndefined(value){return typeof value=="undefined"}wijmo.isUndefined=isUndefined;function isDate(value){return value instanceof Date&&!isNaN(value.getTime())}wijmo.isDate=isDate;function isArray(value){return value instanceof Array}wijmo.isArray=isArray;function isObject(value){return value!=null&&typeof value=="object"&&!isDate(value)&&!isArray(value)}wijmo.isObject=isObject;function mouseToPage(e){if(e instanceof Point){return e}if(e.touches&&e.touches.length>0){e=e.touches[0]}if(isNumber(e.clientX)&&isNumber(e.clientY)){return new Point(e.clientX+pageXOffset,e.clientY+pageYOffset)}throw"Mouse or touch event expected."}wijmo.mouseToPage=mouseToPage;function getType(value){if(isNumber(value))return 2;if(isBoolean(value))return 3;if(isDate(value))return 4;if(isString(value))return 1;if(isArray(value))return 5;return 0}wijmo.getType=getType;function changeType(value,type,format){if(value!=null){if(isString(value)){switch(type){case 2:var num=wijmo.Globalize.parseFloat(value,format);return isNaN(num)?value:num;case 4:var date=wijmo.Globalize.parseDate(value,format);if(!date){date=new Date(value)}return date&&isFinite(date.getTime())?date:value;case 3:switch(value.toLowerCase()){case"true":return true;case"false":return false}return value}}if(type==1){return wijmo.Globalize.format(value,format)}}return value}wijmo.changeType=changeType;function format(format,data,formatFunction){format=asString(format);return format.replace(/\{(.*?)(:(.*?))?\}/g,function(match,name,x,fmt){var val=match;if(name&&name[0]!="{"&&data){val=data[name];if(fmt){val=wijmo.Globalize.format(val,fmt)}if(formatFunction){val=formatFunction(data,name,fmt,val)}}return val==null?"":val})}wijmo.format=format;function clamp(value,min,max){if(value!=null){if(max!=null&&value>max)value=max;if(min!=null&&value<min)value=min}return value}wijmo.clamp=clamp;function copy(dst,src){for(var key in src){assert(key in dst,'Unknown key "'+key+'".');var value=src[key];if(!dst._copy||!dst._copy(key,value)){if(dst[key]instanceof wijmo.Event&&isFunction(value)){dst[key].addHandler(value)}else if(isObject(value)&&dst[key]){copy(dst[key],value)}else{dst[key]=value}}}}wijmo.copy=copy;function assert(condition,msg){if(!condition){throw"** Assertion failed in Wijmo: "+msg}}wijmo.assert=assert;function asString(value,nullOK){if(typeof nullOK==="undefined"){nullOK=true}assert(nullOK&&value==null||isString(value),"String expected.");return value}wijmo.asString=asString;function asNumber(value,nullOK,positive){if(typeof nullOK==="undefined"){nullOK=false}if(typeof positive==="undefined"){positive=false}assert(nullOK&&value==null||isNumber(value),"Number expected.");if(positive&&value&&value<0)throw"Positive number expected.";return value}wijmo.asNumber=asNumber;function asInt(value,nullOK,positive){if(typeof nullOK==="undefined"){nullOK=false}if(typeof positive==="undefined"){positive=false}assert(nullOK&&value==null||isInt(value),"Integer expected.");if(positive&&value&&value<0)throw"Positive integer expected.";return value}wijmo.asInt=asInt;function asBoolean(value,nullOK){if(typeof nullOK==="undefined"){nullOK=false}assert(nullOK&&value==null||isBoolean(value),"Boolean expected.");return value}wijmo.asBoolean=asBoolean;function asDate(value,nullOK){if(typeof nullOK==="undefined"){nullOK=false}assert(nullOK&&value==null||isDate(value),"Date expected.");return value}wijmo.asDate=asDate;function asFunction(value,nullOK){if(typeof nullOK==="undefined"){nullOK=true}assert(nullOK&&value==null||isFunction(value),"Function expected.");return value}wijmo.asFunction=asFunction;function asArray(value,nullOK){if(typeof nullOK==="undefined"){nullOK=true}assert(nullOK&&value==null||isArray(value),"Array expected.");return value}wijmo.asArray=asArray;function asType(value,type,nullOK){if(typeof nullOK==="undefined"){nullOK=false}value=tryCast(value,type);assert(nullOK||value!=null,type+" expected.");return value}wijmo.asType=asType;function asEnum(value,enumType,nullOK){if(typeof nullOK==="undefined"){nullOK=false}if(value==null&&nullOK)return null;var e=enumType[value];assert(e!=null,"Invalid enum value.");return isNumber(e)?e:value}wijmo.asEnum=asEnum;function asCollectionView(value,nullOK){if(typeof nullOK==="undefined"){nullOK=true}if(value==null&&nullOK){return null}var cv=tryCast(value,"ICollectionView");if(cv!=null){return cv}if(!isArray(value)){assert(false,"Array or ICollectionView expected.")}return new wijmo.collections.CollectionView(value)}wijmo.asCollectionView=asCollectionView;function toHeaderCase(text){return text.length?text[0].toUpperCase()+text.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}wijmo.toHeaderCase=toHeaderCase;function escapeHtml(text){if(isString(text)){text=text.replace(/[&<>"'\/]/g,function(s){return _ENTITYMAP[s]})}return text}wijmo.escapeHtml=escapeHtml;var _ENTITYMAP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function hasClass(e,className){if(e&&e.getAttribute){var rx=new RegExp("\\b"+className+"\\b");return e&&rx.test(e.getAttribute("class"))}return false}wijmo.hasClass=hasClass;function removeClass(e,className){if(e&&e.setAttribute&&hasClass(e,className)){var rx=new RegExp("\\s?\\b"+className+"\\b","g"),cn=e.getAttribute("class");e.setAttribute("class",cn.replace(rx,""))}}wijmo.removeClass=removeClass;function addClass(e,className){if(e&&e.setAttribute&&!hasClass(e,className)){var cn=e.getAttribute("class");e.setAttribute("class",cn?cn+" "+className:className)}}wijmo.addClass=addClass;function toggleClass(e,className,addOrRemove){if(addOrRemove){addClass(e,className)}else{removeClass(e,className)}}wijmo.toggleClass=toggleClass;function setSelectionRange(e,start,end){if(typeof end==="undefined"){end=start}e=asType(e,HTMLInputElement);if(contains(document.body,e)&&!e.disabled&&e.style.display!="none"){try{e.setSelectionRange(asNumber(start),asNumber(end));e.focus()}catch(x){}}}wijmo.setSelectionRange=setSelectionRange;function getElement(selector){if(selector instanceof HTMLElement)return selector;if(isString(selector))return document.querySelector(selector);if(selector&&selector.jquery)return selector[0];return null}wijmo.getElement=getElement;function createElement(html){var div=document.createElement("div");div.innerHTML=html;return div.removeChild(div.firstChild)}wijmo.createElement=createElement;function setText(e,text){if(text==null){if(e.hasChildNodes()){e.textContent=""}return}var fc=e.firstChild;if(e.childNodes.length==1&&fc.nodeType==3){if(fc.nodeValue!=text){fc.nodeValue=text}}else if(fc||text){e.textContent=text}}wijmo.setText=setText;function contains(parent,child){for(var e=child;e;e=e.parentNode){if(e===parent)return true}return false}wijmo.contains=contains;function closest(e,selector){var start=e;for(e=e.parentNode;e;e=e.parentNode){var qs=e.querySelectorAll&&e.querySelectorAll(selector);if(qs&&qs.length){for(var i=0;i<qs.length;i++){if(qs[i]==start){return start}}for(var i=0;i<qs.length;i++){if(contains(qs[i],start)){return qs[i]}}return null}}return null}wijmo.closest=closest;function getElementRect(e){var rc=e.getBoundingClientRect();return new Rect(rc.left+window.pageXOffset,rc.top+window.pageYOffset,rc.width,rc.height)}wijmo.getElementRect=getElementRect;function setCss(e,css){var s=e.style;for(var p in css){var val=css[p];if(typeof val=="number"&&p.match(/width|height|left|top|right|bottom|size|padding|margin'/i)){val+="px"}if(s[p]!=val){s[p]=val.toString()}}}wijmo.setCss=setCss;function animate(apply,duration,step){if(typeof duration==="undefined"){duration=400}if(typeof step==="undefined"){step=35}asFunction(apply);asNumber(duration,false,true);asNumber(step,false,true);var t=0;var timer=setInterval(function(){var pct=t/duration;pct=Math.sin(pct*Math.PI/2);pct*=pct;apply(pct);t+=step;if(t>=duration){if(pct<1)apply(1);clearInterval(timer)}},step);return timer}wijmo.animate=animate;var Point=function(){function Point(x,y){if(typeof x==="undefined"){x=0}if(typeof y==="undefined"){y=0}this.x=asNumber(x);this.y=asNumber(y)}Point.prototype.equals=function(pt){return pt instanceof Point&&this.x==pt.x&&this.y==pt.y};Point.prototype.clone=function(){return new Point(this.x,this.y)};return Point}();wijmo.Point=Point;var Size=function(){function Size(width,height){if(typeof width==="undefined"){width=0}if(typeof height==="undefined"){height=0}this.width=asNumber(width);this.height=asNumber(height)}Size.prototype.equals=function(sz){return sz instanceof Size&&this.width==sz.width&&this.height==sz.height};Size.prototype.clone=function(){return new Size(this.width,this.height)};return Size}();wijmo.Size=Size;var Rect=function(){function Rect(left,top,width,height){this.left=asNumber(left);this.top=asNumber(top);this.width=asNumber(width);this.height=asNumber(height)}Object.defineProperty(Rect.prototype,"right",{get:function(){return this.left+this.width},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:true,configurable:true});Rect.prototype.clone=function(){return new Rect(this.left,this.top,this.width,this.height)};Rect.fromBoundingRect=function(rc){if(rc.left!=null){return new Rect(rc.left,rc.top,rc.width,rc.height)}else if(rc.x!=null){return new Rect(rc.x,rc.y,rc.width,rc.height)}else{assert(false,"Invalid source rectangle.")}};Rect.union=function(rc1,rc2){var x=Math.min(rc1.left,rc2.left),y=Math.min(rc1.top,rc2.top),right=Math.max(rc1.right,rc2.right),bottom=Math.max(rc1.bottom,rc2.bottom);return new Rect(x,y,right-x,bottom-y)};Rect.prototype.contains=function(pt){if(pt instanceof Point){return pt.x>=this.left&&pt.x<=this.right&&pt.y>=this.top&&pt.y<=this.bottom}else if(pt instanceof Rect){var rc2=pt;return rc2.left>=this.left&&rc2.right<=this.right&&rc2.top>=this.top&&rc2.bottom<=this.bottom}else{assert(false,"Point or Rect expected.")}};Rect.prototype.inflate=function(dx,dy){return new Rect(this.left-dx,this.top-dy,this.width+2*dx,this.height+2*dy)};return Rect}();wijmo.Rect=Rect;var DateTime=function(){function DateTime(){}DateTime.addDays=function(value,days){return new Date(value.getFullYear(),value.getMonth(),value.getDate()+days)};DateTime.addMonths=function(value,months){return new Date(value.getFullYear(),value.getMonth()+months,value.getDate())};DateTime.addYears=function(value,years){return new Date(value.getFullYear()+years,value.getMonth(),value.getDate())};DateTime.addHours=function(value,hours){return new Date(value.getFullYear(),value.getMonth(),value.getDate(),value.getHours()+hours)};DateTime.addMinutes=function(value,minutes){return new Date(value.getFullYear(),value.getMonth(),value.getDate(),value.getHours(),value.getMinutes()+minutes)};DateTime.addSeconds=function(value,seconds){return new Date(value.getFullYear(),value.getMonth(),value.getDate(),value.getHours(),value.getMinutes(),value.getSeconds()+seconds)};DateTime.sameDate=function(d1,d2){return isDate(d1)&&isDate(d2)&&d1.getFullYear()==d2.getFullYear()&&d1.getMonth()==d2.getMonth()&&d1.getDate()==d2.getDate()};DateTime.sameTime=function(d1,d2){return isDate(d1)&&isDate(d2)&&d1.getHours()==d2.getHours()&&d1.getMinutes()==d2.getMinutes()&&d1.getSeconds()==d2.getSeconds()};DateTime.equals=function(d1,d2){return isDate(d1)&&isDate(d2)&&d1.getTime()==d2.getTime()};DateTime.fromDateTime=function(date,time){if(!date&&!time)return null;if(!date)date=time;if(!time)time=date;return new Date(date.getFullYear(),date.getMonth(),date.getDate(),time.getHours(),time.getMinutes(),time.getSeconds())};DateTime.clone=function(date){return DateTime.fromDateTime(date,date)};return DateTime}();wijmo.DateTime=DateTime;function httpRequest(url,settings){if(!settings)settings={};var method=settings.method?asString(settings.method).toUpperCase():"GET",async=settings.async!=null?asBoolean(settings.async):true,data=settings.data;if(data!=null&&method=="GET"){var s=[];for(var k in data){s.push(k+"="+data[k])}if(s.length){var sep=url.indexOf("?")<0?"?":"&";url+=sep+s.join("&")}data=null}var xhr=new XMLHttpRequest;xhr["URL_DEBUG"]=url;var isJson=false;if(data!=null&&!isString(data)){isJson=isObject(data);data=JSON.stringify(data)}xhr.onload=function(){if(xhr.readyState==4){if(xhr.status<300){if(settings.success){asFunction(settings.success)(xhr)}}else if(settings.error){asFunction(settings.error)(xhr)}if(settings.complete){asFunction(settings.complete)(xhr)}}};xhr.onerror=function(){if(settings.error){asFunction(settings.error)(xhr)}else{throw"HttpRequest Error: "+xhr.status+" "+xhr.statusText}};xhr.open(method,url,async,settings.user,settings.password);if(settings.user&&settings.password){xhr.setRequestHeader("Authorization","Basic "+btoa(settings.user+":"+settings.password))}if(isJson){xhr.setRequestHeader("Content-Type","application/json")}if(settings.requestHeaders){for(var key in settings.requestHeaders){xhr.setRequestHeader(key,settings.requestHeaders[key])}}xhr.send(data);return xhr}wijmo.httpRequest=httpRequest})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";wijmo.culture={Globalize:{numberFormat:{".":".",",":",",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"}}}};var Globalize=function(){function Globalize(){}Globalize.format=function(value,format){if(!format){if(wijmo.isNumber(value)){format=value==Math.round(value)?"n0":"n2"}else if(wijmo.isDate(value)){format="d"}}if(wijmo.isNumber(value)){return Globalize.formatNumber(value,format)}else if(wijmo.isDate(value)){return Globalize.formatDate(value,format)}else{return value!=null?value.toString():""}};Globalize.formatNumber=function(value,format,trim){if(typeof trim==="undefined"){trim=false}wijmo.asNumber(value);wijmo.asString(format);var result,m=format?format.match(/([a-z])(\d*)(,*)(.*)/i):null,nf=wijmo.culture.Globalize.numberFormat,f1=m?m[1].toLowerCase():"n",prec=m&&m[2]?parseInt(m[2]):f1=="c"?nf.currency.decimals:value==Math.round(value)?0:2,scale=m&&m[3]?3*m[3].length:0,curr=m&&m[4]?m[4]:nf.currency.symbol,dp=nf["."],ts=nf[","];if(scale){value/=Math.pow(10,scale)}if(f1=="d"||f1=="x"){result=Math.round(Math.abs(value)).toString(f1=="d"?10:16);while(result.length<prec){result="0"+result}if(value<0){result="-"+result}if(format&&format[0]=="X"){result=result.toUpperCase()}return result}if(f1=="p"){value*=100}result=f1=="c"||f1=="p"?Math.abs(value).toFixed(prec):value.toFixed(prec);if((trim||f1=="g")&&result.indexOf(".")>-1){result=result.replace(/(\.[0-9]*?)0+$/g,"$1");result=result.replace(/\.$/,"")}if(dp!="."){result=result.replace(".",dp)}if(ts&&(f1=="n"||f1=="c"||f1=="p")){var idx=result.indexOf(dp),rx=/\B(?=(\d\d\d)+(?!\d))/g;result=idx>-1?result.substr(0,idx).replace(rx,ts)+result.substr(idx):result.replace(rx,ts)}if(f1=="c"){var pat=nf.currency.pattern[value<0?0:1];result=pat.replace("n",result).replace("$",curr)}if(f1=="p"){var pat=nf.percent.pattern[value<0?0:1];result=pat.replace("n",result)}return result};Globalize.formatDate=function(value,format){value=wijmo.asDate(value);switch(format){case"r":case"R":return value.toUTCString();case"u":return value.toISOString().replace(/\.\d{3}/,"")}format=Globalize._expandFormat(format);var parts=Globalize._parseDateFormat(format),str="";for(var i=0;i<parts.length;i++){str+=Globalize._formatDatePart(value,format,parts[i])}return str};Globalize.parseInt=function(value,format){return Math.round(Globalize.parseFloat(value,format))};Globalize.parseFloat=function(value,format){var neg=value.indexOf("-")>-1||value.indexOf("(")>-1&&value.indexOf(")")>-1?-1:+1,pct=value.indexOf("%")>-1?.01:1,m=format?format.match(/,+/):null,scale=m?m[0].length*3:0;if(format&&(format[0]=="x"||format[0]=="X")){value=value.replace(/[^0-9a-f]+.*$/gi,"");return parseInt(value,16)*neg*pct*Math.pow(10,scale)}var dp=wijmo.culture.Globalize.numberFormat["."],rx=new RegExp("[^\\d\\"+dp+"]","g"),value=value.replace(rx,"").replace(dp,".");return parseFloat(value)*neg*pct*Math.pow(10,scale)};Globalize.parseDate=function(value,format){value=wijmo.asString(value);if(!value){return null}if(format=="u"){return new Date(value)}var d;if(format=="R"||format=="r"){var rx=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,match=value.match(rx);if(match[1]||match[5]){var d=match[1]?new Date(parseInt(match[2]),parseInt(match[3])-1,parseInt(match[4])):new Date;if(match[5]){d.setHours(parseInt(match[6]));d.setMinutes(parseInt(match[7]));d.setSeconds(match[8]?parseInt(match[9]):0)}}else{d=new Date(value)}return d}format=Globalize._expandFormat(format?format:"d");var cal=wijmo.culture.Globalize.calendar,cjk=Globalize._CJK,rxv=new RegExp("(\\"+cal["/"]+")|"+"(\\"+cal[":"]+")|"+"(\\d+)|"+"(["+cjk+"]+)|"+"(["+cjk+"\\.]{2, })","gi"),vparts=value.match(rxv),fparts=Globalize._parseDateFormat(format),offset=0,year=-1,month=0,day=1,hour=0,min=0,tzm=0,sec=0,ms=0,era=-1;if(!vparts||!vparts.length||!fparts||!fparts.length){return null}for(var i=0;i<fparts.length&&vparts;i++){var vpi=i-offset,pval=vpi>-1&&vpi<vparts.length?vparts[vpi]:"",plen=fparts[i].length;switch(fparts[i]){case"dddd":case"ddd":break;case"dd":case"d":day=parseInt(pval);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":ms=parseInt(pval)/Math.pow(10,plen-3);break;case"hh":case"h":hour=parseInt(pval);hour=hour==12?0:hour;break;case"HH":case"H":hour=parseInt(pval);break;case"mm":case"m":min=parseInt(pval);break;case"MMMM":case"MMM":var monthName=pval.toLowerCase();month=-1;for(var j=0;j<12;j++){if(cal.months[j].toLowerCase().indexOf(monthName)==0){month=j;break}}break;case"MM":case"M":month=parseInt(pval)-1;break;case"ss":case"s":sec=parseInt(pval);break;case"tt":case"t":if(cal.pm[0]&&pval.toUpperCase()==cal.pm[0]&&hour<12){hour+=12}break;case"yyyy":case"yyy":case"yy":case"y":year=parseInt(pval);break;case"ggg":case"gg":case"g":era=cal.eras.length>1?Globalize._getEra(pval,cal):-1;break;case"K":break;case cal["/"]:case cal[":"]:break;default:offset++;break}}if(month<0||month>11||isNaN(month)||day<0||day>31||isNaN(day)||hour<0||hour>24||isNaN(hour)||min<0||min>60||isNaN(min)||sec<0||sec>60||isNaN(sec)){return null}if(year<0){year=(new Date).getFullYear()}if(era>-1){year=year+cal.eras[era].start.getFullYear()-1}else if(year<100){year+=year>=30?1900:2e3}d=new Date(year,month,day,hour,min+tzm,sec,ms);return isNaN(d.getTime())?null:d};Globalize.getFirstDayOfWeek=function(){var fdw=wijmo.culture.Globalize.calendar.firstDay;return fdw?fdw:0};Globalize.getNumberDecimalSeparator=function(){var ndc=wijmo.culture.Globalize.numberFormat["."];return ndc?ndc:"."};Globalize._parseDateFormat=function(format){if(format in Globalize._dateFomatParts){return Globalize._dateFomatParts[format]}var parts=[],str="",start,end;for(start=0;start>-1&&start<format.length;start++){var c=format[start];if(c=="'"||c=='"'){end=format.indexOf(c,start+1);if(end>-1){parts.push(format.substring(start+1,end))}start=end}else{end=start+1;for(;end<format.length;end++){if(format[end]!=c)break}parts.push(format.substring(start,end));start=end-1}}Globalize._dateFomatParts[format]=parts;return parts};Globalize._formatDatePart=function(d,format,part){var cal=wijmo.culture.Globalize.calendar,era=0,year=0,ff=0,plen=part.length;switch(part){case"dddd":return cal.days[d.getDay()];case"ddd":return cal.daysAbbr[d.getDay()];case"dd":return Globalize._zeroPad(d.getDate(),2);case"d":return d.getDate().toString();case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":ff=d.getMilliseconds()*Math.pow(10,plen-3);return part[0]=="f"?Globalize._zeroPad(ff,plen):ff.toFixed(0);case"hh":return Globalize._zeroPad(Globalize._h12(d),2);case"h":return Globalize._h12(d).toString();case"HH":return Globalize._zeroPad(d.getHours(),2);case"H":return d.getHours().toString();case"mm":return Globalize._zeroPad(d.getMinutes(),2);case"m":return d.getMinutes().toString();case"MMMM":return cal.months[d.getMonth()];case"MMM":return cal.monthsAbbr[d.getMonth()];case"MM":return Globalize._zeroPad(d.getMonth()+1,2);case"M":return(d.getMonth()+1).toString();case"ss":return Globalize._zeroPad(d.getSeconds(),2);case"s":return d.getSeconds().toString();case"tt":return d.getHours()<12?cal.am[0]:cal.pm[0];case"t":return d.getHours()<12?cal.am[1]:cal.pm[1];case"yyyy":case"yyy":case"yy":case"y":year=d.getFullYear();if(cal.eras.length>1&&format.indexOf("g")>-1){era=Globalize._getEra(d,cal);if(era>-1){year=year-cal.eras[era].start.getFullYear()+1}}return Globalize._zeroPad(year,4).substr(4-part.length);case"ggg":case"gg":case"g":if(cal.eras.length>1){era=Globalize._getEra(d,cal);if(era>-1){return part=="ggg"?cal.eras[era].name:part=="gg"?cal.eras[era].name[0]:cal.eras[era].symbol}}return cal.eras[0];case"K":var tz=d.toString().match(/(\+|\-)(\d{2})(\d{2})/);return tz?tz[1]+tz[2]+tz[3]:"";case":":return cal[":"];case"/":return cal["/"]}return part};Globalize._getEra=function(d,cal){if(wijmo.isDate(d)){for(var i=0;i<cal.eras.length;i++){if(d>=cal.eras[i].start){return i}}}else if(wijmo.isString(d)){for(var i=0;i<cal.eras.length;i++){if(cal.eras[i].name.indexOf(d)==0||cal.eras[i].symbol.indexOf(d)==0){return i}}}return-1};Globalize._expandFormat=function(format){var fmt=wijmo.culture.Globalize.calendar.patterns[format];return fmt?fmt:format};Globalize._zeroPad=function(num,places){var n=num.toFixed(0),zero=places-n.length+1;return zero>0?Array(zero).join("0")+n:n};Globalize._h12=function(d){var cal=wijmo.culture.Globalize.calendar,h=d.getHours();if(cal.am&&cal.am[0]){h=h%12;if(h==0)h=12}return h};Globalize._CJK="a-zu00C0-u017Fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u");Globalize._dateFomatParts={};return Globalize}();wijmo.Globalize=Globalize})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";var Binding=function(){function Binding(path){this.path=path}Object.defineProperty(Binding.prototype,"path",{get:function(){return this._path},set:function(value){this._path=value;this._parts=value.split(".");for(var i=0;i<this._parts.length;i++){var part=this._parts[i],ib=part.indexOf("[");if(ib>-1){this._parts[i]=part.substr(0,ib);this._parts.splice(++i,0,parseInt(part.substr(ib+1)))}}this._key=this._parts.length==1?this._parts[0]:null},enumerable:true,configurable:true});Binding.prototype.getValue=function(object){if(object){if(this._key){return object[this._key]}for(var i=0;i<this._parts.length&&object;i++){object=object[this._parts[i]]}}return object};Binding.prototype.setValue=function(object,value){for(var i=0;i<this._parts.length-1;i++){object=object[this._parts[i]];if(object==null){return}}object[this._parts[this._parts.length-1]]=value};return Binding}();wijmo.Binding=Binding})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){"use strict";var EventHandler=function(){function EventHandler(handler,self){this.handler=handler;this.self=self}return EventHandler}();var Event=function(){function Event(){this._handlers=[]}Event.prototype.addHandler=function(handler,self){wijmo.asFunction(handler);this._handlers.push(new EventHandler(handler,self))};Event.prototype.removeHandler=function(handler,self){wijmo.asFunction(handler);for(var i=0;i<this._handlers.length;i++){var l=this._handlers[i];if(l.handler==handler||handler==null){if(l.self==self||self==null){this._handlers.splice(i,1);if(handler&&self){break}}}}};Event.prototype.removeAllHandlers=function(){this._handlers.length=0};Event.prototype.raise=function(sender,args){if(typeof args==="undefined"){args=EventArgs.empty}for(var i=0;i<this._handlers.length;i++){var l=this._handlers[i];l.handler.call(l.self,sender,args)}};Object.defineProperty(Event.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:true,configurable:true});return Event}();wijmo.Event=Event;var EventArgs=function(){function EventArgs(){}EventArgs.empty=new EventArgs;return EventArgs}();wijmo.EventArgs=EventArgs;var CancelEventArgs=function(_super){__extends(CancelEventArgs,_super);function CancelEventArgs(){_super.apply(this,arguments);this.cancel=false}return CancelEventArgs}(EventArgs);wijmo.CancelEventArgs=CancelEventArgs;var PropertyChangedEventArgs=function(_super){__extends(PropertyChangedEventArgs,_super);function PropertyChangedEventArgs(propertyName,oldValue,newValue){_super.call(this);this._name=propertyName;this._oldVal=oldValue;this._newVal=newValue}Object.defineProperty(PropertyChangedEventArgs.prototype,"propertyName",{get:function(){return this._name},enumerable:true,configurable:true});Object.defineProperty(PropertyChangedEventArgs.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:true,configurable:true});Object.defineProperty(PropertyChangedEventArgs.prototype,"newValue",{get:function(){return this._newVal},enumerable:true,configurable:true});return PropertyChangedEventArgs}(EventArgs);wijmo.PropertyChangedEventArgs=PropertyChangedEventArgs;var RequestErrorEventArgs=function(_super){__extends(RequestErrorEventArgs,_super);function RequestErrorEventArgs(xhr){_super.call(this);this._xhr=xhr}Object.defineProperty(RequestErrorEventArgs.prototype,"request",{get:function(){return this._xhr},enumerable:true,configurable:true});return RequestErrorEventArgs}(CancelEventArgs);wijmo.RequestErrorEventArgs=RequestErrorEventArgs})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";var Control=function(){function Control(element,options,invalidateOnResize){if(typeof options==="undefined"){options=null}if(typeof invalidateOnResize==="undefined"){invalidateOnResize=false}this._focus=false;this._updating=0;this._fullUpdate=false;this.gotFocus=new wijmo.Event;this.lostFocus=new wijmo.Event;wijmo.assert(Control.getControl(element)==null,"Element is already hosting a control.");var host=wijmo.getElement(element);wijmo.assert(host!=null,"Cannot find the host element.");this._orgOuter=host.outerHTML;this._orgInner=host.innerHTML;if(host.tagName=="INPUT"||host.tagName=="SELECT"){this._orgAtts=host.attributes;this._orgTag=host.tagName;host=this._replaceWithDiv(host)}this._e=host;host[Control._DATA_KEY]=this;if(invalidateOnResize==true){this._szCtl=new wijmo.Size(host.offsetWidth,host.offsetHeight);var hr=this._handleResize.bind(this);this.addEventListener(window,"resize",hr)}var self=this;self.addEventListener(host,"focus",function(){setTimeout(function(){self._updateFocusState()},10)},true);self.addEventListener(host,"blur",function(){setTimeout(function(){self._updateFocusState()},100)},true);var hd=this._handleDisabled.bind(this);this.addEventListener(host,"mousedown",hd,true);this.addEventListener(host,"mouseup",hd,true);this.addEventListener(host,"click",hd,true);this.addEventListener(host,"dblclick",hd,true);this.addEventListener(host,"keydown",hd,true);this.addEventListener(host,"onmousewheel"in document?"mousewheel":"DOMMouseScroll",hd,true);Control._touching=false;var hasTouchSupport="ontouchstart"in window;var hasPointerSupport="onpointerdown"in window||window.PointerEvent;var b=document.body,ts=this._handleTouchStart,te=this._handleTouchEnd;if(hasPointerSupport){this.addEventListener(b,"pointerdown",ts,true);this.addEventListener(b,"pointerup",te,true);this.addEventListener(b,"pointerout",te,true);this.addEventListener(b,"pointercancel",te,true);this.addEventListener(b,"pointerleave",te,true)}else if(hasTouchSupport){this.addEventListener(b,"touchstart",ts,true);this.addEventListener(b,"touchend",te,true);this.addEventListener(b,"touchcancel",te,true);this.addEventListener(b,"touchleave",te,true)}}Control.prototype.getTemplate=function(){for(var p=Object.getPrototypeOf(this);p;p=Object.getPrototypeOf(p)){var tpl=p.constructor.controlTemplate;if(tpl){return tpl}}return null};Control.prototype.applyTemplate=function(classNames,template,parts,namePart){var host=this._e;if(classNames){wijmo.addClass(host,classNames)}var tpl=null;if(template){tpl=wijmo.createElement(template);tpl=host.appendChild(tpl)}if(host&&!host.getAttribute("tabindex")){host.tabIndex=host.querySelector("input")?-1:0}if(parts){for(var part in parts){var wjPart=parts[part];this[part]=tpl.querySelector('[wj-part="'+wjPart+'"]');if(this[part]==null&&tpl.getAttribute("wj-part")==wjPart){this[part]=tpl}if(this[part]==null){throw'Missing template part: "'+wjPart+'"'}if(wjPart==namePart){var att=host.attributes["name"];if(att&&att.value){this[part].setAttribute("name",att.value)}att=host.attributes["accesskey"];if(att&&att.value){this[part].setAttribute("accesskey",att.value);host.removeAttribute("accesskey")}}}}return tpl};Control.prototype.dispose=function(){var cc=this._e.querySelectorAll(".wj-control");for(var i=0;i<cc.length;i++){var ctl=Control.getControl(cc[i]);if(ctl){ctl.dispose()}}if(this._toInv){clearTimeout(this._toInv)}this.removeEventListener();var cv=this["collectionView"];if(cv instanceof wijmo.collections.CollectionView){for(var prop in cv){var evt=cv[prop];if(evt instanceof wijmo.Event){evt.removeHandler(null,this)}}}if(this._e.parentNode){this._e.outerHTML=this._orgOuter}this._e[Control._DATA_KEY]=null;this._e=this._orgOuter=this._orgInner=this._orgAtts=this._orgTag=null};Control.getControl=function(element){var e=wijmo.getElement(element);return e?wijmo.asType(e[Control._DATA_KEY],Control,true):null};Object.defineProperty(Control.prototype,"hostElement",{get:function(){return this._e},enumerable:true,configurable:true});Control.prototype.focus=function(){this._e.focus()};Control.prototype.containsFocus=function(){if(!this._e){return false}var c=this._e.getElementsByClassName("wj-control");for(var i=0;i<c.length;i++){var ctl=Control.getControl(c[i]);if(ctl&&ctl!=this&&ctl.containsFocus()){return true}}return wijmo.contains(this._e,document.activeElement)};Control.prototype.invalidate=function(fullUpdate){if(typeof fullUpdate==="undefined"){fullUpdate=true}var self=this;self._fullUpdate=self._fullUpdate||fullUpdate;if(self._toInv){clearTimeout(self._toInv);self._toInv=null}if(!self.isUpdating){self._toInv=setTimeout(function(){self.refresh(self._fullUpdate)},Control._REFRESH_INTERVAL)}};Control.prototype.refresh=function(fullUpdate){if(typeof fullUpdate==="undefined"){fullUpdate=true}if(!this.isUpdating&&this._toInv){clearTimeout(this._toInv);this._toInv=null;this._fullUpdate=false}};Control.invalidateAll=function(e){if(!e)e=document.body;var ctl=wijmo.Control.getControl(e);if(ctl){ctl.invalidate()}if(e.children){for(var i=0;i<e.children.length;i++){Control.invalidateAll(e.children[i])}}};Control.refreshAll=function(e){if(!e)e=document.body;var ctl=wijmo.Control.getControl(e);if(ctl){ctl.refresh()}if(e.children){for(var i=0;i<e.children.length;i++){Control.refreshAll(e.children[i])}}};Control.disposeAll=function(e){var ctl=wijmo.Control.getControl(e);if(ctl){ctl.dispose()}else if(e.children){for(var i=0;i<e.children.length;i++){Control.disposeAll(e.children[i])}}};Control.prototype.beginUpdate=function(){this._updating++};Control.prototype.endUpdate=function(){this._updating--;if(this._updating<=0){this.invalidate()}};Object.defineProperty(Control.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:true,configurable:true});Control.prototype.deferUpdate=function(fn){try{this.beginUpdate();fn()}finally{this.endUpdate()}};Object.defineProperty(Control.prototype,"isTouching",{get:function(){return Control._touching},enumerable:true,configurable:true});Object.defineProperty(Control.prototype,"disabled",{get:function(){return this._e&&this._e.getAttribute("disabled")!=null},set:function(value){value=wijmo.asBoolean(value,true);if(value!=this.disabled){if(value){this._e.setAttribute("disabled","true")}else{this._e.removeAttribute("disabled")}}},enumerable:true,configurable:true});Control.prototype.initialize=function(options){if(options){this.beginUpdate();wijmo.copy(this,options);this.endUpdate()}};Control.prototype.addEventListener=function(target,type,fn,capture){if(typeof capture==="undefined"){capture=false}if(target){target.addEventListener(type,fn,capture);if(this._listeners==null){this._listeners=[]}this._listeners.push({target:target,type:type,fn:fn,capture:capture})}};Control.prototype.removeEventListener=function(target,type,capture){if(this._listeners){for(var i=0;i<this._listeners.length;i++){var l=this._listeners[i];if(target==null||target==l.target){if(type==null||type==l.type){if(capture==null||capture==l.capture){l.target.removeEventListener(l.type,l.fn,l.capture);this._listeners.splice(i,1);i--}}}}}};Control.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)};Control.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)};Control.prototype._handleResize=function(){if(this._e.parentElement){var sz=new wijmo.Size(this._e.offsetWidth,this._e.offsetHeight);if(!sz.equals(this._szCtl)){this._szCtl=sz;this.invalidate()}}};Control.prototype._updateFocusState=function(){var focus=this.containsFocus();if(focus!=this._focus){this._focus=focus;if(focus){this.onGotFocus()}else{this.onLostFocus()}wijmo.toggleClass(this._e,"wj-state-focused",focus)}if(this._e){for(var e=this._e.parentElement;e;e=e.parentElement){var ctl=Control.getControl(e);if(ctl){ctl._updateFocusState();break}}}};Control.prototype._handleTouchStart=function(e){if(e.pointerType==null||e.pointerType=="touch"){Control._touching=true}};Control.prototype._handleTouchEnd=function(e){if(e.pointerType==null||e.pointerType=="touch"){setTimeout(function(){Control._touching=false},400)}};Control.prototype._handleDisabled=function(e){if(this.disabled){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}};Control.prototype._replaceWithDiv=function(element){var p=element.parentElement,div=document.createElement("div");p.replaceChild(div,element);div.innerHTML=element.innerHTML;var atts=element.attributes;for(var i=0;i<atts.length;i++){var name=atts[i].name;if(name=="id"||name=="style"){div.setAttribute(name,atts[i].value)}}return div};Control.prototype._copyOriginalAttributes=function(e){var atts=this._orgAtts;if(atts){for(var i=0;i<atts.length;i++){var name=atts[i].name.toLowerCase();if(name!="id"&&name!="style"&&name!="type"){e.setAttribute(name,atts[i].value)}}}};Control._DATA_KEY="wj-Control";Control._REFRESH_INTERVAL=10;return Control}();wijmo.Control=Control})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";(function(Aggregate){Aggregate[Aggregate["None"]=0]="None";Aggregate[Aggregate["Sum"]=1]="Sum";Aggregate[Aggregate["Cnt"]=2]="Cnt";Aggregate[Aggregate["Avg"]=3]="Avg";Aggregate[Aggregate["Max"]=4]="Max";Aggregate[Aggregate["Min"]=5]="Min";Aggregate[Aggregate["Rng"]=6]="Rng";Aggregate[Aggregate["Std"]=7]="Std";Aggregate[Aggregate["Var"]=8]="Var";Aggregate[Aggregate["StdPop"]=9]="StdPop";Aggregate[Aggregate["VarPop"]=10]="VarPop"})(wijmo.Aggregate||(wijmo.Aggregate={}));var Aggregate=wijmo.Aggregate;function getAggregate(aggType,items,binding){var cnt=0,cntn=0,sum=0,sum2=0,min=null,max=null,bnd=binding?new wijmo.Binding(binding):null;for(var i=0;i<items.length;i++){var val=items[i];if(bnd){val=bnd.getValue(val)}if(val!=null){cnt++;if(min==null||val<min){min=val}if(max==null||val>max){max=val}if(wijmo.isNumber(val)&&!isNaN(val)){cntn++;sum+=val;sum2+=val*val}else if(wijmo.isBoolean(val)){cntn++;if(val==true){sum++;sum2++}}}}var avg=cntn==0?0:sum/cntn;switch(aggType){case 3:return avg;case 2:return cnt;case 4:return max;case 5:return min;case 6:return max-min;case 1:return sum;case 10:return cntn<=1?0:sum2/cntn-avg*avg;case 9:return cntn<=1?0:Math.sqrt(sum2/cntn-avg*avg);case 8:return cntn<=1?0:(sum2/cntn-avg*avg)*cntn/(cntn-1);case 7:return cntn<=1?0:Math.sqrt((sum2/cntn-avg*avg)*cntn/(cntn-1))}throw"Invalid aggregate type."}wijmo.getAggregate=getAggregate})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(collections){"use strict";(function(NotifyCollectionChangedAction){NotifyCollectionChangedAction[NotifyCollectionChangedAction["Add"]=0]="Add";NotifyCollectionChangedAction[NotifyCollectionChangedAction["Remove"]=1]="Remove";NotifyCollectionChangedAction[NotifyCollectionChangedAction["Change"]=2]="Change";NotifyCollectionChangedAction[NotifyCollectionChangedAction["Reset"]=3]="Reset"})(collections.NotifyCollectionChangedAction||(collections.NotifyCollectionChangedAction={}));var NotifyCollectionChangedAction=collections.NotifyCollectionChangedAction;var NotifyCollectionChangedEventArgs=function(_super){__extends(NotifyCollectionChangedEventArgs,_super);function NotifyCollectionChangedEventArgs(action,item,index){if(typeof action==="undefined"){action=3}if(typeof item==="undefined"){item=null}if(typeof index==="undefined"){index=-1}_super.call(this);this.action=action;this.item=item;this.index=index}NotifyCollectionChangedEventArgs.reset=new NotifyCollectionChangedEventArgs(3);return NotifyCollectionChangedEventArgs}(wijmo.EventArgs);collections.NotifyCollectionChangedEventArgs=NotifyCollectionChangedEventArgs;var SortDescription=function(){function SortDescription(property,ascending){this._bnd=new wijmo.Binding(property);this._asc=ascending}Object.defineProperty(SortDescription.prototype,"property",{get:function(){return this._bnd.path},enumerable:true,configurable:true});Object.defineProperty(SortDescription.prototype,"ascending",{get:function(){return this._asc},enumerable:true,configurable:true});return SortDescription}();collections.SortDescription=SortDescription;var PageChangingEventArgs=function(_super){__extends(PageChangingEventArgs,_super);function PageChangingEventArgs(newIndex){_super.call(this);this.newPageIndex=newIndex}return PageChangingEventArgs}(wijmo.CancelEventArgs);collections.PageChangingEventArgs=PageChangingEventArgs;var GroupDescription=function(){function GroupDescription(){}GroupDescription.prototype.groupNameFromItem=function(item,level){return""};GroupDescription.prototype.namesMatch=function(groupName,itemName){return groupName===itemName};return GroupDescription}();collections.GroupDescription=GroupDescription;var PropertyGroupDescription=function(_super){__extends(PropertyGroupDescription,_super);function PropertyGroupDescription(property,converter){_super.call(this);this._bnd=new wijmo.Binding(property);this._converter=converter}Object.defineProperty(PropertyGroupDescription.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:true,configurable:true});PropertyGroupDescription.prototype.groupNameFromItem=function(item,level){return this._converter?this._converter(item,this.propertyName):this._bnd.getValue(item)};PropertyGroupDescription.prototype.namesMatch=function(groupName,itemName){return groupName===itemName};return PropertyGroupDescription}(GroupDescription);collections.PropertyGroupDescription=PropertyGroupDescription})(wijmo.collections||(wijmo.collections={}));var collections=wijmo.collections})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(collections){"use strict";var ArrayBase=function(){function ArrayBase(){this.length=0;Array.apply(this,arguments)}ArrayBase.prototype.pop=function(){return null};ArrayBase.prototype.push=function(value){return 0};ArrayBase.prototype.splice=function(index,count,value){return null};ArrayBase.prototype.slice=function(begin,end){return null};ArrayBase.prototype.indexOf=function(searchElement,fromIndex){return-1};ArrayBase.prototype.sort=function(compareFn){return null};return ArrayBase}();collections.ArrayBase=ArrayBase;ArrayBase.prototype=Array.prototype;var ObservableArray=function(_super){__extends(ObservableArray,_super);function ObservableArray(data){_super.call(this);this._updating=0;this.collectionChanged=new wijmo.Event;if(data){data=wijmo.asArray(data);this._updating++;for(var i=0;i<data.length;i++){this.push(data[i])}this._updating--}}ObservableArray.prototype.push=function(item){var rv=_super.prototype.push.call(this,item);if(!this._updating){this._raiseCollectionChanged(0,item,rv-1)}return rv};ObservableArray.prototype.pop=function(){var item=_super.prototype.pop.call(this);this._raiseCollectionChanged(1,item,this.length);return item};ObservableArray.prototype.splice=function(index,count,item){var rv;if(count&&item){rv=_super.prototype.splice.call(this,index,count,item);if(count==1){this._raiseCollectionChanged(2,item,index)}else{this._raiseCollectionChanged()}return rv}else if(item){rv=_super.prototype.splice.call(this,index,0,item);this._raiseCollectionChanged(0,item,index);return rv}else{rv=_super.prototype.splice.call(this,index,count);if(count==1){this._raiseCollectionChanged(1,rv[0],index)}else{this._raiseCollectionChanged()}return rv}};ObservableArray.prototype.slice=function(begin,end){return _super.prototype.slice.call(this,begin,end)};ObservableArray.prototype.indexOf=function(searchElement,fromIndex){return _super.prototype.indexOf.call(this,searchElement,fromIndex)};ObservableArray.prototype.sort=function(compareFn){var rv=_super.prototype.sort.call(this,compareFn);this._raiseCollectionChanged();return rv};ObservableArray.prototype.insert=function(index,item){this.splice(index,0,item)};ObservableArray.prototype.removeAt=function(index){this.splice(index,1)};ObservableArray.prototype.setAt=function(index,item){this.splice(index,1,item)};ObservableArray.prototype.clear=function(){if(this.length!==0){this.length=0;this._raiseCollectionChanged()}};ObservableArray.prototype.beginUpdate=function(){this._updating++};ObservableArray.prototype.endUpdate=function(){if(this._updating>0){this._updating--;if(this._updating==0){this._raiseCollectionChanged()}}};Object.defineProperty(ObservableArray.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:true,configurable:true});ObservableArray.prototype.deferUpdate=function(fn){try{this.beginUpdate();fn()}finally{this.endUpdate()}};ObservableArray.prototype.implementsInterface=function(interfaceName){return interfaceName=="INotifyCollectionChanged"};ObservableArray.prototype.onCollectionChanged=function(e){if(typeof e==="undefined"){e=collections.NotifyCollectionChangedEventArgs.reset}if(!this.isUpdating){this.collectionChanged.raise(this,e)}};ObservableArray.prototype._raiseCollectionChanged=function(action,item,index){if(!this.isUpdating){var e=new collections.NotifyCollectionChangedEventArgs(action,item,index);this.onCollectionChanged(e)}};return ObservableArray}(ArrayBase);collections.ObservableArray=ObservableArray})(wijmo.collections||(wijmo.collections={}));var collections=wijmo.collections})(wijmo||(wijmo={}));var wijmo;(function(wijmo){(function(collections){"use strict";var CollectionView=function(){function CollectionView(sourceCollection){this._idx=-1;this._srtDsc=new collections.ObservableArray;this._grpDesc=new collections.ObservableArray;this._newItem=null;this._edtItem=null;this._pgSz=0;this._pgIdx=0;this._updating=0;this._canFilter=true;this._canGroup=true;this._canSort=true;this._canAddNew=true;this._canCancelEdit=true;this._canRemove=true;this._canChangePage=true;this._trackChanges=false;this._chgAdded=new collections.ObservableArray;this._chgRemoved=new collections.ObservableArray;this._chgEdited=new collections.ObservableArray;this.collectionChanged=new wijmo.Event;this.currentChanged=new wijmo.Event;this.currentChanging=new wijmo.Event;this.pageChanged=new wijmo.Event;this.pageChanging=new wijmo.Event;var self=this;self._srtDsc.collectionChanged.addHandler(function(){var arr=self._srtDsc;for(var i=0;i<arr.length;i++){wijmo.assert(arr[i]instanceof collections.SortDescription,"sortDescriptions array must contain SortDescription objects.")}if(self.canSort){self.refresh()}});self._grpDesc.collectionChanged.addHandler(function(){var arr=self._grpDesc;for(var i=0;i<arr.length;i++){wijmo.assert(arr[i]instanceof collections.GroupDescription,"groupDescriptions array must contain GroupDescription objects.")}if(self.canGroup){self.refresh()}});this.sourceCollection=sourceCollection?sourceCollection:new collections.ObservableArray}Object.defineProperty(CollectionView.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(value){this._itemCreator=wijmo.asFunction(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(value){if(value!=this._srtCvt){this._srtCvt=wijmo.asFunction(value,true)}},enumerable:true,configurable:true});CollectionView.prototype.implementsInterface=function(interfaceName){switch(interfaceName){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return true}return false};Object.defineProperty(CollectionView.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(value){this._trackChanges=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:true,configurable:true});CollectionView.prototype.clearChanges=function(){this._chgAdded.clear();this._chgRemoved.clear();this._chgEdited.clear()};CollectionView.prototype.onCollectionChanged=function(e){if(typeof e==="undefined"){e=collections.NotifyCollectionChangedEventArgs.reset}this.collectionChanged.raise(this,e)};CollectionView.prototype._raiseCollectionChanged=function(action,item,index){if(typeof action==="undefined"){action=3}var e=new collections.NotifyCollectionChangedEventArgs(action,item,index);this.onCollectionChanged(e)};Object.defineProperty(CollectionView.prototype,"canFilter",{get:function(){return this._canFilter},set:function(value){this._canFilter=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"canGroup",{get:function(){return this._canGroup},set:function(value){this._canGroup=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"canSort",{get:function(){return this._canSort},set:function(value){this._canSort=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(value){this.moveCurrentTo(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"currentPosition",{get:function(){return this._idx},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"filter",{get:function(){return this._filter},set:function(value){if(this._filter!=value){this._filter=wijmo.asFunction(value);if(this.canFilter){this.refresh()}}},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"groups",{get:function(){return this._groups},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"isEmpty",{get:function(){return this._pgView.length==0},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"sourceCollection",{get:function(){return this._src},set:function(sourceCollection){if(sourceCollection!=this._src){var index=this.currentPosition;this.commitEdit();this.commitNew();if(this._ncc!=null){this._ncc.collectionChanged.removeHandler(this._sourceChanged)}this._src=wijmo.asArray(sourceCollection,false);this._ncc=wijmo.tryCast(this._src,"INotifyCollectionChanged");if(this._ncc){this._ncc.collectionChanged.addHandler(this._sourceChanged,this)}this.clearChanges();this.refresh();this.moveCurrentToFirst();if(this.currentPosition<0&&index>-1){this.onCurrentChanged()}}},enumerable:true,configurable:true});CollectionView.prototype._sourceChanged=function(s,e){if(this._updating<=0){this.refresh()}};CollectionView.prototype.contains=function(item){return this._pgView.indexOf(item)>-1};CollectionView.prototype.moveCurrentTo=function(item){return this.moveCurrentToPosition(this._pgView.indexOf(item))};CollectionView.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)};CollectionView.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)};CollectionView.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)};CollectionView.prototype.moveCurrentToPosition=function(index){if(index>=-1&&index<this._pgView.length){var e=new wijmo.CancelEventArgs;if(this._idx!=index&&this.onCurrentChanging(e)){if(this._edtItem&&this._pgView[index]!=this._edtItem){this.commitEdit()}if(this._newItem&&this._pgView[index]!=this._newItem){this.commitNew()}this._idx=index;this.onCurrentChanged()}}return this._idx==index};CollectionView.prototype.moveCurrentToPrevious=function(){return this.moveCurrentToPosition(this._idx-1)};CollectionView.prototype.refresh=function(){if(this._updating>0||this._newItem||this._edtItem){return}this._performRefresh();this.onCollectionChanged()};CollectionView.prototype._performRefresh=function(){var current=this.currentItem;if(!this._src){this._view=[]}else if(!this._filter||!this.canFilter){this._view=this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src}else{this._view=[];for(var i=0;i<this._src.length;i++){var item=this._src[i];if(this._filter(item)){this._view.push(item)}}}if(this._srtDsc.length>0&&this.canSort){this._view.sort(this._compareItems())}this._groups=this.canGroup?this._createGroups(this._view):null;this._fullGroups=this._groups;if(this._groups){this._view=this._mergeGroupItems(this._groups)}this._pgIdx=wijmo.clamp(this._pgIdx,0,this.pageCount-1);this._pgView=this._getPageView();if(this._groups&&this.pageCount>1){this._groups=this._createGroups(this._pgView);this._mergeGroupItems(this._groups)}var index=this._pgView.indexOf(current);if(index<0){index=Math.min(this._idx,this._pgView.length-1)}this._idx=index;this._digest=this._getGroupsDigest(this.groups);if(this.currentItem!==current){this.onCurrentChanged()}};CollectionView.prototype._compareItems=function(){var sortDsc=this._srtDsc,sortCvt=this._srtCvt,init=true;return function(a,b){for(var i=0;i<sortDsc.length;i++){var sd=sortDsc[i],v1=sd._bnd.getValue(a),v2=sd._bnd.getValue(b);if(v1!==v1)v1=null;if(v2!==v2)v2=null;if(typeof v1==="string"&&typeof v2==="string"){var lc1=v1.toLowerCase(),lc2=v2.toLowerCase();if(lc1!=lc2){v1=lc1;v2=lc2}}if(sortCvt){v1=sortCvt(sd,a,v1,init);v2=sortCvt(sd,b,v2,false);init=false}if(v1!=null&&v2==null)return-1;if(v1==null&&v2!=null)return+1;var cmp=v1<v2?-1:v1>v2?+1:0;if(cmp!=0){return sd.ascending?+cmp:-cmp}}return 0}};CollectionView.prototype.onCurrentChanged=function(e){if(typeof e==="undefined"){e=wijmo.EventArgs.empty}this.currentChanged.raise(this,e)};CollectionView.prototype.onCurrentChanging=function(e){this.currentChanging.raise(this,e);return!e.cancel};Object.defineProperty(CollectionView.prototype,"items",{get:function(){return this._pgView},enumerable:true,configurable:true});CollectionView.prototype.beginUpdate=function(){this._updating++};CollectionView.prototype.endUpdate=function(){this._updating--;if(this._updating<=0){this.refresh()}};Object.defineProperty(CollectionView.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:true,configurable:true});CollectionView.prototype.deferUpdate=function(fn){try{this.beginUpdate();fn()}finally{this.endUpdate()}};Object.defineProperty(CollectionView.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(value){this._canAddNew=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(value){this._canCancelEdit=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"canRemove",{get:function(){return this._canRemove},set:function(value){this._canRemove=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:true,configurable:true});CollectionView.prototype.addNew=function(){if(arguments.length>0){wijmo.assert(false,"addNew does not take any parameters, it creates the new items.")}this.commitEdit();this.commitNew();if(!this.canAddNew){wijmo.assert(false,"cannot add items (canAddNew == false).");return null}var item=null;if(this.newItemCreator){item=this.newItemCreator()}else if(this.sourceCollection&&this.sourceCollection.length){item=this.sourceCollection[0].constructor()}else{item={}}if(item!=null){this._newItem=item;this._updating++;this._src.push(item);this._updating--;if(this._pgView!=this._src){this._pgView.push(item)}if(this.groups&&this.groups.length){var g=this.groups[this.groups.length-1];g.items.push(item);while(g.groups&&g.groups.length){g=g.groups[g.groups.length-1];g.items.push(item)}}this._raiseCollectionChanged(0,item,this._pgView.length-1);this.moveCurrentTo(item)}return this._newItem};CollectionView.prototype.cancelEdit=function(){var item=this._edtItem;if(item!=null){this._edtItem=null;if(!this.canCancelEdit){wijmo.assert(false,"cannot cancel edits (canCancelEdit == false).");return}var index=this._src.indexOf(item);if(index<0||!this._edtClone){return}this._extend(this._src[index],this._edtClone);this._edtClone=null;this._raiseCollectionChanged(2,item,index)}};CollectionView.prototype.cancelNew=function(){var item=this._newItem;if(item!=null){this.remove(item)}};CollectionView.prototype.commitEdit=function(){var item=this._edtItem,e;if(item!=null){var sameContent=this._sameContent(item,this._edtClone);this._edtItem=null;this._edtClone=null;var index=this._pgView.indexOf(item);var digest=this._digest;this._performRefresh();if(this._trackChanges==true&&!sameContent){var idx=this._chgEdited.indexOf(item);if(idx<0&&this._chgAdded.indexOf(item)<0){this._chgEdited.push(item)}else if(idx>-1){e=new collections.NotifyCollectionChangedEventArgs(2,item,idx);this._chgEdited.onCollectionChanged(e)}else{idx=this._chgAdded.indexOf(item);if(idx>-1){e=new collections.NotifyCollectionChangedEventArgs(2,item,idx);this._chgAdded.onCollectionChanged(e)}}}if(this._pgView.indexOf(item)==index&&digest==this._digest){this._raiseCollectionChanged(2,item,index)}else{this._raiseCollectionChanged()}}};CollectionView.prototype.commitNew=function(){var item=this._newItem;if(item!=null){this._newItem=null;var index=this._pgView.indexOf(item);var digest=this._digest;this._performRefresh();if(this._trackChanges==true){var idx=this._chgEdited.indexOf(item);if(idx>-1){this._chgEdited.removeAt(idx)}if(this._chgAdded.indexOf(item)<0){this._chgAdded.push(item)}}if(this._pgView.indexOf(item)==index&&digest==this._digest){this._raiseCollectionChanged(2,item,index)}else{this._raiseCollectionChanged()}}};CollectionView.prototype.editItem=function(item){if(item!=this._edtItem&&this.moveCurrentTo(item)){this.commitEdit();this._edtItem=item;this._edtClone={};this._extend(this._edtClone,this._edtItem)}};CollectionView.prototype.remove=function(item){var pendingNew=item==this._newItem;if(pendingNew){this._newItem=null}if(item==this._edtItem){this.cancelEdit()}if(!this.canRemove){wijmo.assert(false,"cannot remove items (canRemove == false).");return}var index=this._src.indexOf(item);if(index>-1){var current=this.currentItem;this._updating++;this._src.splice(index,1);this._updating--;var digest=this._digest;this._performRefresh();if(this._trackChanges==true){var idx=this._chgAdded.indexOf(item);if(idx>-1){this._chgAdded.removeAt(idx)}idx=this._chgEdited.indexOf(item);if(idx>-1){this._chgEdited.removeAt(idx)}if(this._chgRemoved.indexOf(item)<0&&!pendingNew){this._chgRemoved.push(item)}}var paged=this.pageSize>0&&this._pgIdx>-1;if(paged||digest!=this._getGroupsDigest(this.groups)){this._raiseCollectionChanged()}else{this._raiseCollectionChanged(1,item,index)}if(this.currentItem!==current){this.onCurrentChanged()}}};CollectionView.prototype.removeAt=function(index){index=wijmo.asInt(index);this.remove(this._pgView[index])};CollectionView.prototype._extend=function(dst,src){for(var key in src){dst[key]=src[key]}};CollectionView.prototype._sameContent=function(dst,src){for(var key in src){if(!this._sameValue(dst[key],src[key])){return false}}for(var key in dst){if(!this._sameValue(dst[key],src[key])){return false}}return true};CollectionView.prototype._sameValue=function(v1,v2){return v1==v2||wijmo.DateTime.equals(v1,v2)};Object.defineProperty(CollectionView.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(value){this._canChangePage=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"isPageChanging",{get:function(){return false},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"pageSize",{get:function(){return this._pgSz},set:function(value){if(value!=this._pgSz){this._pgSz=wijmo.asInt(value);this.refresh()}},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:true,configurable:true});Object.defineProperty(CollectionView.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:true,configurable:true});CollectionView.prototype.moveToFirstPage=function(){return this.moveToPage(0)};CollectionView.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)};CollectionView.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)};CollectionView.prototype.moveToPage=function(index){var newIndex=wijmo.clamp(index,0,this.pageCount-1);if(newIndex!=this._pgIdx){if(!this.canChangePage){wijmo.assert(false,"cannot change pages (canChangePage == false).")}var e=new collections.PageChangingEventArgs(newIndex);if(this.onPageChanging(e)){this._pgIdx=newIndex;this._pgView=this._getPageView();this._idx=0;if(!this.groupDescriptions||this.groupDescriptions.length==0){this.onPageChanged();this.onCollectionChanged()}else{this.refresh()}}}return this._pgIdx==index};CollectionView.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)};CollectionView.prototype.onPageChanged=function(e){if(typeof e==="undefined"){e=wijmo.EventArgs.empty}this.pageChanged.raise(this,e)};CollectionView.prototype.onPageChanging=function(e){this.pageChanging.raise(this,e);return!e.cancel};CollectionView.prototype._getFullGroup=function(g){var fg=this._getGroupByPath(this._fullGroups,g.level,g._path);if(fg!=null){g=fg}return g};CollectionView.prototype._getGroupByPath=function(groups,level,path){for(var i=0;i<groups.length;i++){var g=groups[i];if(g.level==level&&g._path==path){return g}if(g.level<level&&g._path.indexOf(path)==0){g=this._getGroupByPath(g.items,level,path);if(g!=null){return g}}}return null};CollectionView.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0){return this._view}var start=this._pgSz*this._pgIdx,end=Math.min(start+this._pgSz,this._view.length);return this._view.slice(start,end)};CollectionView.prototype._createGroups=function(items){if(!this._grpDesc||!this._grpDesc.length){return null}var root=[],maps={},map=null;for(var i=0;i<items.length;i++){var item=items[i],groups=root,levels=this._grpDesc.length;var path="";for(var level=0;level<levels;level++){var gd=this._grpDesc[level],name=gd.groupNameFromItem(item,level),last=level==levels-1;map=maps[path];if(!map&&wijmo.isPrimitive(name)){map={};maps[path]=map}var group=this._getGroup(gd,groups,map,name,level,last);path+="/"+name;group._path=path;if(last){group.items.push(item)}groups=group.groups;}}return root};CollectionView.prototype._getGroupsDigest=function(groups){var digest="";for(var i=0;groups!=null&&i<groups.length;i++){var g=groups[i];digest+="{"+g.name+":"+(g.items?g.items.length:"*");if(g.groups.length>0){digest+=",";digest+=this._getGroupsDigest(g.groups)}digest+="}"}return digest};CollectionView.prototype._mergeGroupItems=function(groups){var items=[];for(var i=0;i<groups.length;i++){var g=groups[i];if(!g._isBottomLevel){var groupItems=this._mergeGroupItems(g.groups);g._items.push.apply(g._items,groupItems)}items.push.apply(items,g._items)}return items};CollectionView.prototype._getGroup=function(gd,groups,map,name,level,isBottomLevel){var g;if(map&&wijmo.isPrimitive(name)){g=map[name];if(g){return g}}else{for(var i=0;i<groups.length;i++){if(gd.namesMatch(groups[i].name,name)){return groups[i]}}}var group=new CollectionViewGroup(gd,name,level,isBottomLevel);groups.push(group);if(map){map[name]=group}return group};return CollectionView}();collections.CollectionView=CollectionView;var CollectionViewGroup=function(){function CollectionViewGroup(groupDescription,name,level,isBottomLevel){this._gd=groupDescription;this._name=name;this._level=level;this._isBottomLevel=isBottomLevel;this._groups=[];this._items=[]}Object.defineProperty(CollectionViewGroup.prototype,"name",{get:function(){return this._name},enumerable:true,configurable:true});Object.defineProperty(CollectionViewGroup.prototype,"level",{get:function(){return this._level},enumerable:true,configurable:true});Object.defineProperty(CollectionViewGroup.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:true,configurable:true});Object.defineProperty(CollectionViewGroup.prototype,"items",{get:function(){return this._items},enumerable:true,configurable:true});Object.defineProperty(CollectionViewGroup.prototype,"groups",{get:function(){return this._groups},enumerable:true,configurable:true});Object.defineProperty(CollectionViewGroup.prototype,"groupDescription",{get:function(){return this._gd},enumerable:true,configurable:true});CollectionViewGroup.prototype.getAggregate=function(aggType,binding,view){var cv=wijmo.tryCast(view,CollectionView),group=cv?cv._getFullGroup(this):this;return wijmo.getAggregate(aggType,group.items,binding)};return CollectionViewGroup}();collections.CollectionViewGroup=CollectionViewGroup})(wijmo.collections||(wijmo.collections={}));var collections=wijmo.collections})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){"use strict";var Tooltip=function(){function Tooltip(){this._showAutoTipBnd=this._showAutoTip.bind(this);this._hideAutoTipBnd=this._hideAutoTip.bind(this);this._html=true;this._gap=6;this._showDelay=500;this._hideDelay=0;this._tips=[];this.popup=new wijmo.Event}Tooltip.prototype.setTooltip=function(element,content){element=wijmo.getElement(element);content=this._getContent(content);var i=this._indexOf(element);if(i>-1){this._detach(element);this._tips.splice(i,1)}if(content){this._attach(element);this._tips.push({element:element,content:content})}};Tooltip.prototype.show=function(element,content,bounds){element=wijmo.getElement(element);content=this._getContent(content);if(!bounds){bounds=wijmo.Rect.fromBoundingRect(element.getBoundingClientRect())}var tip=Tooltip._eTip;if(!tip){tip=Tooltip._eTip=document.createElement("div");wijmo.addClass(tip,"wj-tooltip");tip.style.visibility="none";document.body.appendChild(tip)}this._setContent(content);var e=new TooltipEventArgs(content);this.onPopup(e);if(e.content&&!e.cancel){this._setContent(e.content);tip.style.minWidth="";bounds=new wijmo.Rect(bounds.left-(tip.offsetWidth-bounds.width)/2,bounds.top-this.gap,tip.offsetWidth,bounds.height+2*this.gap);wijmo.showPopup(tip,bounds,true);document.addEventListener("mousedown",this._hideAutoTipBnd)}};Tooltip.prototype.hide=function(){if(Tooltip._eTip){Tooltip._eTip.style.visibility="hidden";Tooltip._eTip.innerHTML=""}document.removeEventListener("mousedown",this._hideAutoTipBnd)};Object.defineProperty(Tooltip.prototype,"isVisible",{get:function(){return Tooltip._eTip&&Tooltip._eTip.style.visibility!="hidden"},enumerable:true,configurable:true});Object.defineProperty(Tooltip.prototype,"isContentHtml",{get:function(){return this._html},set:function(value){this._html=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(Tooltip.prototype,"gap",{get:function(){return this._gap},set:function(value){this._gap=wijmo.asNumber(value)},enumerable:true,configurable:true});Object.defineProperty(Tooltip.prototype,"showDelay",{get:function(){return this._showDelay},set:function(value){this._showDelay=wijmo.asInt(value)},enumerable:true,configurable:true});Object.defineProperty(Tooltip.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(value){this._hideDelay=wijmo.asInt(value)},enumerable:true,configurable:true});Tooltip.prototype.onPopup=function(e){if(this.popup){this.popup.raise(this,e)}};Tooltip.prototype._indexOf=function(e){for(var i=0;i<this._tips.length;i++){if(this._tips[i].element==e){return i}}return-1};Tooltip.prototype._attach=function(e){e.addEventListener("mouseenter",this._showAutoTipBnd);e.addEventListener("mouseleave",this._hideAutoTipBnd);e.addEventListener("click",this._showAutoTipBnd)};Tooltip.prototype._detach=function(e){e.removeEventListener("mouseenter",this._showAutoTipBnd);e.removeEventListener("mouseleave",this._hideAutoTipBnd);e.removeEventListener("click",this._showAutoTipBnd)};Tooltip.prototype._showAutoTip=function(evt){var self=this,showDelay=evt.type=="mouseenter"?self._showDelay:0;self._clearTimeouts();self._toShow=setTimeout(function(){var i=self._indexOf(evt.target);if(i>-1){var tip=self._tips[i];self.show(tip.element,tip.content);if(self._hideDelay>0){self._toHide=setTimeout(function(){self.hide()},self._hideDelay)}}},showDelay)};Tooltip.prototype._hideAutoTip=function(){this._clearTimeouts();this.hide()};Tooltip.prototype._clearTimeouts=function(){if(this._toShow){clearTimeout(this._toShow);this._toShow=null}if(this._toHide){clearTimeout(this._toHide);this._toHide=null}};Tooltip.prototype._getContent=function(content){content=wijmo.asString(content);if(content&&content[0]=="#"){var e=wijmo.getElement(content);if(e){content=e.innerHTML}}return content};Tooltip.prototype._setContent=function(content){var tip=Tooltip._eTip;if(tip){if(this.isContentHtml){tip.innerHTML=content}else{tip.textContent=content}}};return Tooltip}();wijmo.Tooltip=Tooltip;var ElementContent=function(){function ElementContent(){}return ElementContent}();var TooltipEventArgs=function(_super){__extends(TooltipEventArgs,_super);function TooltipEventArgs(content){_super.call(this);this._content=wijmo.asString(content)}Object.defineProperty(TooltipEventArgs.prototype,"content",{get:function(){return this._content},set:function(value){this._content=wijmo.asString(value)},enumerable:true,configurable:true});return TooltipEventArgs}(wijmo.CancelEventArgs);wijmo.TooltipEventArgs=TooltipEventArgs})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";var Color=function(){function Color(color){this._r=0;this._g=0;this._b=0;this._a=1;if(color){this._parse(color)}}Object.defineProperty(Color.prototype,"r",{get:function(){return this._r},set:function(value){this._r=wijmo.clamp(wijmo.asNumber(value),0,255)},enumerable:true,configurable:true});Object.defineProperty(Color.prototype,"g",{get:function(){return this._g},set:function(value){this._g=wijmo.clamp(wijmo.asNumber(value),0,255)},enumerable:true,configurable:true});Object.defineProperty(Color.prototype,"b",{get:function(){return this._b},set:function(value){this._b=wijmo.clamp(wijmo.asNumber(value),0,255)},enumerable:true,configurable:true});Object.defineProperty(Color.prototype,"a",{get:function(){return this._a},set:function(value){this._a=wijmo.clamp(wijmo.asNumber(value),0,1)},enumerable:true,configurable:true});Color.prototype.equals=function(clr){return clr instanceof Color&&this.r==clr.r&&this.g==clr.g&&this.b==clr.b&&this.a==clr.a};Color.prototype.toString=function(){var a=Math.round(this.a*100);return a>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):wijmo.format("rgba("+this.r+","+this.g+","+this.b+","+a/100+")",this)};Color.fromRgba=function(r,g,b,a){if(typeof a==="undefined"){a=1}var c=new Color(null);c.r=wijmo.asNumber(r);c.g=wijmo.asNumber(g);c.b=wijmo.asNumber(b);c.a=wijmo.asNumber(a);return c};Color.fromHsb=function(h,s,b,a){if(typeof a==="undefined"){a=1}var rgb=Color._hsbToRgb(wijmo.asNumber(h),wijmo.asNumber(s),wijmo.asNumber(b));return Color.fromRgba(rgb[0],rgb[1],rgb[2],a)};Color.fromHsl=function(h,s,l,a){if(typeof a==="undefined"){a=1}var rgb=Color._hslToRgb(wijmo.asNumber(h),wijmo.asNumber(s),wijmo.asNumber(l));return Color.fromRgba(rgb[0],rgb[1],rgb[2],a)};Color.fromString=function(value){var c=new Color(null);return c._parse(wijmo.asString(value))?c:null};Color.prototype.getHsb=function(){return Color._rgbToHsb(this.r,this.g,this.b)};Color.prototype.getHsl=function(){return Color._rgbToHsl(this.r,this.g,this.b)};Color.interpolate=function(c1,c2,pct){pct=wijmo.clamp(wijmo.asNumber(pct),0,1);var h1=Color._rgbToHsl(c1.r,c1.g,c1.b),h2=Color._rgbToHsl(c2.r,c2.g,c2.b);var qct=1-pct,alpha=c1.a*qct+c2.a*pct,h3=[h1[0]*qct+h2[0]*pct,h1[1]*qct+h2[1]*pct,h1[2]*qct+h2[2]*pct];var rgb=Color._hslToRgb(h3[0],h3[1],h3[2]);return Color.fromRgba(rgb[0],rgb[1],rgb[2],alpha)};Color.prototype._parse=function(color){color=color.toLowerCase();if(color&&color.indexOf("#")!=0&&color.indexOf("rgb")!=0&&color.indexOf("hsl")!=0){var e=document.createElement("div");e.style.color=color;var cc=e.style.color;if(cc==color){cc=window.getComputedStyle(e).color;if(!cc){document.body.appendChild(e);cc=window.getComputedStyle(e).color;document.body.removeChild(e)}}color=cc.toLowerCase()}if(color.indexOf("#")==0){if(color.length==4){this.r=parseInt(color[1]+color[1],16);this.g=parseInt(color[2]+color[2],16);this.b=parseInt(color[3]+color[3],16);this.a=1;return true}else if(color.length==7){this.r=parseInt(color.substr(1,2),16);this.g=parseInt(color.substr(3,2),16);this.b=parseInt(color.substr(5,2),16);this.a=1;return true}return false}if(color.indexOf("rgb")==0){var op=color.indexOf("("),ep=color.indexOf(")");if(op>-1&&ep>-1){var p=color.substr(op+1,ep-(op+1)).split(",");if(p.length>2){this.r=parseInt(p[0]);this.g=parseInt(p[1]);this.b=parseInt(p[2]);this.a=p.length>3?parseFloat(p[3]):1;return true}}}if(color.indexOf("hsl")==0){var op=color.indexOf("("),ep=color.indexOf(")");if(op>-1&&ep>-1){var p=color.substr(op+1,ep-(op+1)).split(",");if(p.length>2){var h=parseInt(p[0])/360,s=parseInt(p[1]),l=parseInt(p[2]);if(p[1].indexOf("%")>-1)s/=100;if(p[2].indexOf("%")>-1)l/=100;var rgb=Color._hslToRgb(h,s,l);this.r=rgb[0];this.g=rgb[1];this.b=rgb[2];this.a=p.length>3?parseFloat(p[3]):1;return true}}}return false};Color._hslToRgb=function(h,s,l){wijmo.assert(h>=0&&h<=1&&s>=0&&s<=1&&l>=0&&l<=1,"bad HSL values");var r,g,b;if(s==0){r=g=b=l}else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=Color._hue2rgb(p,q,h+1/3);g=Color._hue2rgb(p,q,h);b=Color._hue2rgb(p,q,h-1/3)}return[Math.round(r*255),Math.round(g*255),Math.round(b*255)]};Color._hue2rgb=function(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p};Color._rgbToHsl=function(r,g,b){wijmo.assert(r>=0&&r<=255&&g>=0&&g<=255&&b>=0&&b<=255,"bad RGB values");r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b),h,s,l=(max+min)/2;if(max==min){h=s=0}else{var d=max-min;s=l>.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return[h,s,l]};Color._rgbToHsb=function(r,g,b){wijmo.assert(r>=0&&r<=255&&g>=0&&g<=255&&b>=0&&b<=255,"bad RGB values");var hsl=Color._rgbToHsl(r,g,b);return Color._hslToHsb(hsl[0],hsl[1],hsl[2])};Color._hsbToRgb=function(h,s,b){var hsl=Color._hsbToHsl(h,s,b);return Color._hslToRgb(hsl[0],hsl[1],hsl[2])};Color._hsbToHsl=function(h,s,b){wijmo.assert(h>=0&&h<=1&&s>=0&&s<=1&&b>=0&&b<=1,"bad HSB values");var ll=wijmo.clamp(b*(2-s)/2,0,1),div=1-Math.abs(2*ll-1),ss=wijmo.clamp(div>0?b*s/div:s,0,1);wijmo.assert(!isNaN(ll)&&!isNaN(ss),"bad conversion to HSL");return[h,ss,ll]};Color._hslToHsb=function(h,s,l){wijmo.assert(h>=0&&h<=1&&s>=0&&s<=1&&l>=0&&l<=1,"bad HSL values");var bb=wijmo.clamp(l==1?1:(2*l+s*(1-Math.abs(2*l-1)))/2,0,1);var ss=wijmo.clamp(bb>0?2*(bb-l)/bb:s,0,1);wijmo.assert(!isNaN(bb)&&!isNaN(ss),"bad conversion to HSB");return[h,ss,bb]};return Color}();wijmo.Color=Color})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";var Clipboard=function(){function Clipboard(){}Clipboard.copy=function(text){Clipboard._copyPasteInternal(text)};Clipboard.paste=function(callback){Clipboard._copyPasteInternal(callback)};Clipboard._copyPasteInternal=function(textOrCallback){var activeElement=document.activeElement;var el=document.createElement("textarea");el.style.position="fixed";el.style.opacity="0";document.body.appendChild(el);if(typeof textOrCallback=="string"){el.value=textOrCallback}el.select();setTimeout(function(){var text=el.value;document.body.removeChild(el);activeElement.focus();if(typeof textOrCallback=="function"){textOrCallback(text)}},100)};return Clipboard}();wijmo.Clipboard=Clipboard})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";function showPopup(popup,ref,above,fadeIn){if(typeof ref==="undefined"){ref=null}if(typeof above==="undefined"){above=false}if(typeof fadeIn==="undefined"){fadeIn=false}var parent=document.body;if(ref instanceof HTMLElement){if(!wijmo.contains(document.body,ref)){return}var prel;for(var e=ref.parentElement;e;e=e.parentElement){var p=getComputedStyle(e).position;if(p=="relative"&&!prel){prel=e}else if(p=="fixed"){parent=prel?prel:e;break}}}var pp=popup.parentElement;if(pp!=parent){if(pp){pp.removeChild(popup)}parent.appendChild(popup)}if(ref instanceof HTMLElement){var sr=getComputedStyle(ref);wijmo.setCss(popup,{color:sr.color,backgroundColor:sr.backgroundColor,fontFamily:sr.fontFamily,fontSize:sr.fontSize,fontWeight:sr.fontWeight,fontStyle:sr.fontStyle})}wijmo.setCss(popup,{position:"absolute",visibility:"hidden",display:""});var sp=getComputedStyle(popup),my=parseFloat(sp.marginTop)+parseFloat(sp.marginBottom),mx=parseFloat(sp.marginLeft)+parseFloat(sp.marginRight),sz=new wijmo.Size(popup.offsetWidth+mx,popup.offsetHeight+my);var pos=new wijmo.Point,rc=null;if(ref instanceof MouseEvent){if(ref.clientX<=0&&ref.clientY<=0&&ref.target){rc=ref.target.getBoundingClientRect()}else{pos.x=Math.max(0,ref.clientX-sz.width/2);pos.y=Math.max(0,ref.clientY-sz.height/2)}}else if(ref instanceof HTMLElement){rc=ref.getBoundingClientRect()}else if(ref&&ref.top!=null&&ref.left!=null){rc=ref}else if(ref==null){pos.x=Math.max(0,(innerWidth-sz.width)/2);pos.y=Math.max(0,(innerHeight-sz.height)/2)}else{throw"Invalid ref parameter."}var minWidth=parseFloat(sp.minWidth);if(rc){var spcAbove=rc.top,spcBelow=innerHeight-rc.bottom,rtl=getComputedStyle(popup).direction=="rtl";if(rtl){pos.x=Math.max(0,rc.right-sz.width)}else{pos.x=Math.max(0,Math.min(rc.left,innerWidth-sz.width))}if(above){pos.y=spcAbove>sz.height||spcAbove>spcBelow?Math.max(0,rc.top-sz.height):rc.bottom}else{pos.y=spcBelow>sz.height||spcBelow>spcAbove?rc.bottom:Math.max(0,rc.top-sz.height)}minWidth=Math.max(minWidth,rc.width)}var rcp=ref==null?new wijmo.Rect(0,0,0,0):parent==document.body?new wijmo.Rect(-pageXOffset,-pageYOffset,0,0):parent.getBoundingClientRect();var css={position:ref==null?"fixed":"absolute",left:pos.x-rcp.left,top:pos.y-rcp.top,minWidth:minWidth,display:"",visibility:"visible",zIndex:1500};if(fadeIn){popup.style.opacity="0";wijmo.animate(function(pct){popup.style.opacity=pct==1?"":pct.toString()})}wijmo.setCss(popup,css)}wijmo.showPopup=showPopup;function hidePopup(popup,remove,fadeOut){if(typeof remove==="undefined"){remove=true}if(typeof fadeOut==="undefined"){fadeOut=false}if(fadeOut){wijmo.animate(function(pct){popup.style.opacity=(1-pct).toString();if(pct==1){_hidePopup(popup,remove);popup.style.opacity=""}})}else{_hidePopup(popup,remove)}}wijmo.hidePopup=hidePopup;function _hidePopup(popup,remove){popup.style.display="none";if(remove&&popup.parentElement){popup.parentElement.removeChild(popup)}}})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";var _MaskProvider=function(){function _MaskProvider(input,mask,promptChar){if(typeof mask==="undefined"){mask=null}if(typeof promptChar==="undefined"){promptChar="_"}this._promptChar="_";this._mskArr=[];this._full=true;this._hbInput=this._input.bind(this);this._hbKeyDown=this._keydown.bind(this);this._hbKeyPress=this._keypress.bind(this);this.mask=mask;this.input=input;this.promptChar=promptChar;this._connect(true)}Object.defineProperty(_MaskProvider.prototype,"input",{get:function(){return this._tbx},set:function(value){this._connect(false);this._tbx=value;this._connect(true)},enumerable:true,configurable:true});Object.defineProperty(_MaskProvider.prototype,"mask",{get:function(){return this._msk},set:function(value){if(value!=this._msk){this._msk=wijmo.asString(value,true);this._parseMask();this._valueChanged()}},enumerable:true,configurable:true});Object.defineProperty(_MaskProvider.prototype,"promptChar",{get:function(){return this._promptChar},set:function(value){if(value!=this._promptChar){this._promptChar=wijmo.asString(value,false);wijmo.assert(this._promptChar.length==1,"promptChar must be a string with length 1.");this._valueChanged()}},enumerable:true,configurable:true});Object.defineProperty(_MaskProvider.prototype,"maskFull",{get:function(){return this._full},enumerable:true,configurable:true});_MaskProvider.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]};_MaskProvider.prototype.getRawValue=function(){var text=this._tbx.value,ret="";if(!this.mask){return text}for(var i=0;i<this._mskArr.length&&i<text.length;i++){if(!this._mskArr[i].literal&&text[i]!=this._promptChar){ret+=text[i]}}return ret};_MaskProvider.prototype.refresh=function(){this._parseMask();this._valueChanged()};_MaskProvider.prototype._input=function(){var _this=this;setTimeout(function(){_this._valueChanged()})};_MaskProvider.prototype._keydown=function(e){this._backSpace=e.keyCode==8};_MaskProvider.prototype._keypress=function(e){if(!e.ctrlKey&&!e.metaKey&&!e.altKey&&this._preventKey(e.charCode)){e.preventDefault()}};_MaskProvider.prototype._preventKey=function(charCode){if(charCode&&this._mskArr.length){var input=this._tbx,start=input.selectionStart,key=String.fromCharCode(charCode);if(start<this._firstPos){start=this._firstPos;wijmo.setSelectionRange(input,start)}if(start>=this._mskArr.length){return true}var m=this._mskArr[start];if(m.literal){this._validatePosition(start)}else if(m.wildCard!=key&&!this._isCharValid(m.wildCard,key)){return true}}return false};_MaskProvider.prototype._connect=function(connect){var input=this._tbx;if(input){if(connect){this._autoComplete=input.autocomplete;this._spellCheck=input.spellcheck;input.autocomplete="off";input.spellcheck=false;input.addEventListener("input",this._hbInput);input.addEventListener("keydown",this._hbKeyDown,true);input.addEventListener("keypress",this._hbKeyPress,true);this._valueChanged()}else{input.autocomplete=this._autoComplete;input.spellcheck=this._spellCheck;input.removeEventListener("input",this._hbInput);input.removeEventListener("keydown",this._hbKeyDown,true);input.removeEventListener("keypress",this._hbKeyPress,true)}}};_MaskProvider.prototype._valueChanged=function(){var input=this._tbx;if(input){var start=input.selectionStart,oldChar=start>0?input.value[start-1]:"";if(this._tbx.value!==""&&this._mskArr.length-this._tbx.value.length===1){if(this._mskArr[start].literal){input.value=this._applyMask()}else{input.value=input.value.substring(0,start)+this._promptChar+input.value.substring(start)}}else{input.value=this._applyMask()}if(document.activeElement==this._tbx){var newChar=start>0?input.value[start-1]:"";if(start>0&&newChar==this._promptChar&&oldChar!=this.promptChar){start--}this._validatePosition(start)}}};_MaskProvider.prototype._applyMask=function(){var text=this._tbx.value,ret="",pos=0;this._full=true;if(!this.mask){return text}var isCaretMet=false;var isDeletion=text.length<=this._mskArr.length;for(var i=0;i<this._mskArr.length;i++){var m=this._mskArr[i],c=m.literal;if(c){if((this._tbx.selectionStart>i||isCaretMet||isDeletion)&&c==text[pos]){pos++}else if(this._tbx.selectionStart<=i&&!isDeletion&&!isCaretMet&&c==text[pos+1]){pos+=2;isCaretMet=true}}if(m.wildCard){c=this._promptChar;if(text){for(var j=pos;j<text.length;j++){var ic=text[j];if(this._isCharValid(m.wildCard,ic)){c=text[j];switch(m.charCase){case">":c=c.toUpperCase();break;case"<":c=c.toLowerCase();break}break}}pos=j+1}if(c==this._promptChar){this._full=false}}ret+=c}return ret};_MaskProvider.prototype._isCharValid=function(mask,c){var ph=this._promptChar;switch(mask){case"0":return c>="0"&&c<="9"||c==ph;case"9":return c>="0"&&c<="9"||c==" "||c==ph;case"#":return c>="0"&&c<="9"||c==" "||c=="+"||c=="-"||c==ph;case"L":return c>="a"&&c<="z"||c>="A"&&c<="Z"||c==ph;case"l":return c>="a"&&c<="z"||c>="A"&&c<="Z"||c==" "||c==ph;case"A":return c>="0"&&c<="9"||c>="a"&&c<="z"||c>="A"&&c<="Z"||c==ph;case"a":return c>="0"&&c<="9"||c>="a"&&c<="z"||c>="A"&&c<="Z"||c==" "||c==ph}return false};_MaskProvider.prototype._validatePosition=function(start){var msk=this._mskArr;if(this._backSpace){while(start>0&&start<msk.length&&msk[start-1].literal){start--}}if(start==0||!this._backSpace){while(start<msk.length&&msk[start].literal){start++}}this._backSpace=false;wijmo.setSelectionRange(this._tbx,start)};_MaskProvider.prototype._parseMask=function(){this._mskArr=[];this._firstPos=-1;this._lastPos=-1;var msk=this._msk,currCase="|",c;for(var i=0;msk&&i<msk.length;i++){switch(msk[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":if(this._firstPos<0){this._firstPos=this._mskArr.length}this._lastPos=this._mskArr.length;this._mskArr.push(new _MaskElement(msk[i],currCase));break;case".":case",":case":":case"/":case"$":switch(msk[i]){case".":case",":c=wijmo.culture.Globalize.numberFormat[msk[i]];break;case":":case"/":c=wijmo.culture.Globalize.calendar[msk[i]];break;case"$":c=wijmo.culture.Globalize.numberFormat.currency.symbol;break}for(var j=0;j<c.length;j++){this._mskArr.push(new _MaskElement(c[j]))}break;case"<":case">":case"|":currCase=msk[i];break;case"\\":if(i<msk.length-1)i++;this._mskArr.push(new _MaskElement(msk[i]));break;default:this._mskArr.push(new _MaskElement(msk[i]));break}}};return _MaskProvider}();wijmo._MaskProvider=_MaskProvider;var _MaskElement=function(){function _MaskElement(wildcardOrLiteral,charCase){if(charCase){this.wildCard=wildcardOrLiteral;this.charCase=charCase}else{this.literal=wildcardOrLiteral}}return _MaskElement}();wijmo._MaskElement=_MaskElement})(wijmo||(wijmo={}));var wijmo;(function(wijmo){"use strict";if(!window["requestAnimationFrame"]){var expectedTime=0;window["requestAnimationFrame"]=function(callback){var currentTime=Date.now(),adjustedDelay=16-(currentTime-expectedTime),delay=adjustedDelay>0?adjustedDelay:0;expectedTime=currentTime+delay;return setTimeout(function(){callback(expectedTime)},delay)};window["cancelAnimationFrame"]=clearTimeout}if(document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1){document.addEventListener("selectstart",function(e){for(var el=e.target;el;el=el.parentNode){if(el.attributes&&el.attributes["draggable"]){e.preventDefault();e.stopImmediatePropagation();el.dragDrop();return false}}})}})(wijmo||(wijmo={}));