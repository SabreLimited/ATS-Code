/*
    *
    * Wijmo Library 5.20152.93
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
*/
var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var DropDown=function(_super){__extends(DropDown,_super);function DropDown(element,options){_super.call(this,element,null,true);this._showBtn=true;this.textChanged=new wijmo.Event;this.isDroppedDownChanging=new wijmo.Event;this.isDroppedDownChanged=new wijmo.Event;var tpl=this.getTemplate();this.applyTemplate("wj-control wj-dropdown wj-content",tpl,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");this._elRef=this._tbx;this._tbx.autocomplete="off";this._createDropDown();this._updateBtn();var self=this;this.addEventListener(this.hostElement,"focus",function(){if(!self.isTouching){self._tbx.focus()}});this.addEventListener(this.hostElement,"blur",this._blur.bind(this),true);this.addEventListener(this.dropDown,"blur",this._blur.bind(this),true);this.addEventListener(this.hostElement,"keydown",this._keydown.bind(this));this.addEventListener(this.dropDown,"keydown",this._keydown.bind(this));this.addEventListener(this._tbx,"input",function(){self._setText(self.text,false)});this.addEventListener(this._tbx,"focus",function(){setTimeout(function(){if(document.activeElement==self._tbx){self.selectAll()}})});if(document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1){this.addEventListener(this._tbx,"keyup",function(){self._setText(self.text,false)})}this.addEventListener(this._btn,"click",function(e){self.isDroppedDown=!self.isDroppedDown;e.preventDefault();e.stopPropagation();if(!self.isTouching&&document.activeElement==self._btn){self.selectAll()}});this.addEventListener(this._dropDown,"click",function(e){e.stopPropagation()});if(this._orgTag=="INPUT"){this._copyOriginalAttributes(this._tbx)}}DropDown.prototype.containsFocus=function(){return _super.prototype.containsFocus.call(this)||wijmo.contains(this._dropDown,document.activeElement)};DropDown.prototype.dispose=function(){this.isDroppedDown=false;_super.prototype.dispose.call(this)};DropDown.prototype.refresh=function(fullUpdate){if(typeof fullUpdate==="undefined"){fullUpdate=true}_super.prototype.refresh.call(this,fullUpdate);if(this.isDroppedDown){if(getComputedStyle(this.hostElement).display!="none"){var ae=document.activeElement;wijmo.showPopup(this._dropDown,this.hostElement);if(ae instanceof HTMLElement&&ae!=document.activeElement){ae.focus()}}}};DropDown.prototype._handleResize=function(){if(this.isDroppedDown){this.refresh()}};Object.defineProperty(DropDown.prototype,"text",{get:function(){return this._tbx.value},set:function(value){if(value!=this.text){this._setText(value,true)}},enumerable:true,configurable:true});Object.defineProperty(DropDown.prototype,"inputElement",{get:function(){return this._tbx},enumerable:true,configurable:true});Object.defineProperty(DropDown.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(value){this._tbx.placeholder=value},enumerable:true,configurable:true});Object.defineProperty(DropDown.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!="none"},set:function(value){value=wijmo.asBoolean(value)&&!this.disabled;if(value!=this.isDroppedDown&&this.onIsDroppedDownChanging(new wijmo.CancelEventArgs)){var dd=this._dropDown;if(value){if(!dd.style.minWidth){dd.style.minWidth=this.hostElement.getBoundingClientRect().width+"px"}dd.style.display="block";this._updateDropDown()}else{if(this.containsFocus()){if(this.isTouching&&this.showDropDownButton){this._btn.focus()}else{this._tbx.focus()}}wijmo.hidePopup(dd)}this._updateFocusState();this.onIsDroppedDownChanged()}},enumerable:true,configurable:true});Object.defineProperty(DropDown.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:true,configurable:true});Object.defineProperty(DropDown.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(value){this._showBtn=wijmo.asBoolean(value);this._updateBtn()},enumerable:true,configurable:true});DropDown.prototype.selectAll=function(){if(this._elRef==this._tbx){wijmo.setSelectionRange(this._tbx,0,this.text.length)}};DropDown.prototype.onTextChanged=function(e){this.textChanged.raise(this,e)};DropDown.prototype.onIsDroppedDownChanging=function(e){this.isDroppedDownChanging.raise(this,e);return!e.cancel};DropDown.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)};DropDown.prototype._blur=function(){var self=this;setTimeout(function(){if(!self.containsFocus()){self.isDroppedDown=false}},100)};DropDown.prototype._keydown=function(e){if(e.defaultPrevented){return}switch(e.keyCode){case 9:case 27:this.isDroppedDown=false;break;case 115:case 13:this.isDroppedDown=!this.isDroppedDown;if(!this.isDroppedDown){this.focus()}if(e.keyCode==115){e.preventDefault()}break;case 40:case 38:if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey){this.isDroppedDown=e.keyCode==40;e.preventDefault()}break}};DropDown.prototype._setText=function(text,fullMatch){if(text==null)text="";text=text.toString();if(text!=this._tbx.value){this._tbx.value=text}if(text!=this._oldText){this._oldText=text;this.onTextChanged()}};DropDown.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?"":"none"};DropDown.prototype._createDropDown=function(){};DropDown.prototype._updateDropDown=function(){if(this.isDroppedDown){wijmo.showPopup(this._dropDown,this.hostElement)}};DropDown.controlTemplate='<div style="position:relative" class="wj-template">'+'<div class="wj-input">'+'<div class="wj-input-group wj-input-btn-visible">'+'<input wj-part="input" type="text" class="wj-form-control" />'+'<span wj-part="btn" class="wj-input-group-btn" tabindex="-1">'+'<button class="wj-btn wj-btn-default" type="button" tabindex="-1">'+'<span class="wj-glyph-down"></span>'+"</button>"+"</span>"+"</div>"+"</div>"+'<div wj-part="dropdown" class="wj-content wj-dropdown-panel" '+'style="display:none;position:absolute;z-index:100;width:auto">'+"</div>"+"</div>";return DropDown}(wijmo.Control);input.DropDown=DropDown})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var Calendar=function(_super){__extends(Calendar,_super);function Calendar(element,options){_super.call(this,element);this.valueChanged=new wijmo.Event;this.displayMonthChanged=new wijmo.Event;this.formatItem=new wijmo.Event;this._value=new Date;this._currMonth=this._getMonth(this._value);this._createChildren();this.refresh(true);this.addEventListener(this.hostElement,"mouseup",this._click.bind(this));this.addEventListener(this.hostElement,"keydown",this._keydown.bind(this));this.initialize(options)}Object.defineProperty(Calendar.prototype,"value",{get:function(){return this._value},set:function(value){if(!wijmo.DateTime.equals(this._value,value)){value=wijmo.asDate(value,true);if(value){if(this._min!=null){var min=wijmo.DateTime.fromDateTime(this._min,value);if(value<min){value=min}}if(this._max!=null&&value>this._max){var max=wijmo.DateTime.fromDateTime(this._max,value);if(value>max){value=max}}}if(!wijmo.DateTime.equals(this._value,value)&&this._isValidDate(value)){this._value=value;this.displayMonth=this._getMonth(value);this.invalidate(false);this.onValueChanged()}}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"min",{get:function(){return this._min},set:function(value){if(value!=this.min){this._min=wijmo.asDate(value,true);this.refresh()}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"max",{get:function(){return this._max},set:function(value){if(value!=this.max){this._max=wijmo.asDate(value,true);this.refresh()}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(value){if(value!=this._fdw){this._fdw=wijmo.asNumber(value,true);if(this._fdw&&(this._fdw>6||this._fdw<0)){throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday)."}}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(value){if(!wijmo.DateTime.equals(this.displayMonth,value)){value=wijmo.asDate(value);if(this._isValidMonth(value)){this._currMonth=this._getMonth(value);this.invalidate(true);this.onDisplayMonthChanged()}}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"showHeader",{get:function(){return this._tblHdr.style.display!="none"},set:function(value){this._tblHdr.style.display=wijmo.asBoolean(value)?"":"none"},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"monthView",{get:function(){return this._tblMonth.style.display!="none"},set:function(value){if(value!=this.monthView){this._tblMonth.style.display=value?"":"none";this._tblYear.style.display=value?"none":""}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(value){if(value!=this._itemFormatter){this._itemFormatter=wijmo.asFunction(value);this.invalidate()}},enumerable:true,configurable:true});Object.defineProperty(Calendar.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(value){if(value!=this._itemValidator){this._itemValidator=wijmo.asFunction(value);this.invalidate()}},enumerable:true,configurable:true});Calendar.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};Calendar.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e)};Calendar.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)};Calendar.prototype.refresh=function(fullUpdate){if(typeof fullUpdate==="undefined"){fullUpdate=true}var cells,cell,day,fdw=this.firstDayOfWeek!=null?this.firstDayOfWeek:wijmo.Globalize.getFirstDayOfWeek();_super.prototype.refresh.call(this,fullUpdate);this._firstDay=wijmo.DateTime.addDays(this.displayMonth,-(this.displayMonth.getDay()-fdw+7)%7);this._spMonth.textContent=wijmo.Globalize.format(this.displayMonth,"y");cells=this._tblMonth.querySelectorAll("td");for(var i=0;i<7&&i<cells.length;i++){day=wijmo.DateTime.addDays(this._firstDay,i);cells[i].textContent=wijmo.Globalize.format(day,"ddd")}for(var i=7;i<cells.length;i++){cell=cells[i];day=wijmo.DateTime.addDays(this._firstDay,i-7);cell.textContent=day.getDate().toString();cell.className="";var invalid=!this._isValidDate(day);wijmo.toggleClass(cell,"wj-state-invalid",invalid);wijmo.toggleClass(cell,"wj-state-disabled",invalid||day.getMonth()!=this.displayMonth.getMonth()||!this._isValidDay(day));wijmo.toggleClass(cell,"wj-state-selected",wijmo.DateTime.sameDate(day,this.value));cell.style.fontWeight=wijmo.DateTime.sameDate(day,new Date)?"bold":"";if(this.itemFormatter){this.itemFormatter(day,cell)}if(this.formatItem.hasHandlers){var e=new input.FormatItemEventArgs(i,day,cell);this.onFormatItem(e)}}var rows=this._tblMonth.querySelectorAll("tr");if(rows.length){day=wijmo.DateTime.addDays(this._firstDay,28);rows[rows.length-2].style.display=day.getMonth()==this.displayMonth.getMonth()?"":"none";day=wijmo.DateTime.addDays(this._firstDay,35);rows[rows.length-1].style.display=day.getMonth()==this.displayMonth.getMonth()?"":"none"}cells=this._tblYear.querySelectorAll("td");if(cells.length){cells[0].textContent=this.displayMonth.getFullYear().toString()}for(var i=1;i<cells.length;i++){cell=cells[i];day=new Date(this.displayMonth.getFullYear(),i-1,1);cell.textContent=wijmo.Globalize.format(day,"MMM");cell.className="";wijmo.toggleClass(cell,"wj-state-disabled",!this._isValidMonth(day));wijmo.toggleClass(cell,"wj-state-selected",wijmo.DateTime.sameDate(this._getMonth(day),this.displayMonth))}};Calendar.prototype._isValidDay=function(value){if(this.min&&value<wijmo.DateTime.fromDateTime(this.min,value))return false;if(this.max&&value>wijmo.DateTime.fromDateTime(this.max,value))return false;return true};Calendar.prototype._isValidMonth=function(value){var y=value.getFullYear(),m=value.getMonth(),first=new Date(y,m,1),last=wijmo.DateTime.addDays(new Date(y,m+1),-1);return this._isValidDay(first)||this._isValidDay(last)};Calendar.prototype._isValidDate=function(value){return this.itemValidator&&value?this.itemValidator(value):true};Calendar.prototype._createChildren=function(){var tpl=this.getTemplate();this.applyTemplate("wj-control wj-calendar",tpl,{_tblHdr:"tbl-header",_tdMonth:"btn-month",_spMonth:"span-month",_btnPrev:"btn-prev",_btnToday:"btn-today",_btnNext:"btn-next",_tblMonth:"tbl-month",_tblYear:"tbl-year"});var tr=document.createElement("TR");wijmo.addClass(tr,"wj-header");for(var d=0;d<7;d++){tr.appendChild(document.createElement("TD"))}this._tblMonth.appendChild(tr);for(var w=0;w<6;w++){tr=document.createElement("TR");for(var d=0;d<7;d++){tr.appendChild(document.createElement("TD"))}this._tblMonth.appendChild(tr)}tr=document.createElement("TR");wijmo.addClass(tr,"wj-header");var td=document.createElement("TD");td.setAttribute("colspan","4");tr.appendChild(td);this._tblYear.appendChild(tr);for(var i=0;i<3;i++){tr=document.createElement("TR");for(var j=0;j<4;j++){tr.appendChild(document.createElement("TD"))}this._tblYear.appendChild(tr)}};Calendar.prototype._click=function(e){var handled=false;var elem=e.target;if(wijmo.contains(this._tdMonth,elem)){this.monthView=!this.monthView;handled=true}else if(wijmo.contains(this._btnPrev,elem)){this._navigateDate(this.monthView,-1);handled=true}else if(wijmo.contains(this._btnNext,elem)){this._navigateDate(this.monthView,+1);handled=true}else if(wijmo.contains(this._btnToday,elem)){this._navigateDate(this.monthView,0);handled=true}if(!handled&&elem){elem=wijmo.closest(elem,"TD");if(elem){if(this.monthView){var index=this._getCellIndex(this._tblMonth,elem);if(index>6){this.value=wijmo.DateTime.fromDateTime(wijmo.DateTime.addDays(this._firstDay,index-7),this.value);handled=true}}else{var index=this._getCellIndex(this._tblYear,elem);if(index>0){this.displayMonth=new Date(this.displayMonth.getFullYear(),index-1,1);this.monthView=true;handled=true}}}}if(handled){e.preventDefault()}};Calendar.prototype._getCellIndex=function(tbl,cell){var cells=tbl.querySelectorAll("TD");for(var i=0;i<cells.length;i++){if(cells[i]==cell)return i}return-1};Calendar.prototype._keydown=function(e){if(!e.ctrlKey&&!e.shiftKey){var handled=true;if(this.monthView){switch(e.keyCode){case 37:this.value=this._addDays(-1);break;case 39:this.value=this._addDays(+1);break;case 38:this.value=this._addDays(-7);break;case 40:this.value=this._addDays(+7);break;case 34:this.displayMonth=this._addMonths(+1);break;case 33:this.displayMonth=this._addMonths(-1);break;default:handled=false;break}}else{switch(e.keyCode){case 37:this.displayMonth=this._addMonths(-1);break;case 39:this.displayMonth=this._addMonths(+1);break;case 38:this.displayMonth=this._addMonths(-4);break;case 40:this.displayMonth=this._addMonths(+4);break;case 34:this.displayMonth=this._addMonths(+12);break;case 33:this.displayMonth=this._addMonths(-12);break;case 13:this.monthView=true;break;default:handled=false;break}}if(handled){e.preventDefault()}}};Calendar.prototype._getMonth=function(date){if(!date)date=new Date;return new Date(date.getFullYear(),date.getMonth(),1)};Calendar.prototype._addDays=function(days){var dt=wijmo.DateTime.addDays(this.value,days);return wijmo.DateTime.fromDateTime(dt,this.value)};Calendar.prototype._addMonths=function(months){return wijmo.DateTime.addMonths(this.displayMonth,months)};Calendar.prototype._navigateDate=function(month,skip){switch(skip){case 0:if(month){this.value=new Date}else{this.displayMonth=this._getMonth(new Date)}break;case+1:if(month){this.displayMonth=wijmo.DateTime.addMonths(this.displayMonth,+1)}else{this.displayMonth=new Date(this.displayMonth.getFullYear()+1,0,1)}break;case-1:if(month){this.displayMonth=wijmo.DateTime.addMonths(this.displayMonth,-1)}else{this.displayMonth=new Date(this.displayMonth.getFullYear()-1,11,1)}break}};Calendar.controlTemplate='<div class="wj-calendar-outer wj-content">'+'<div wj-part="tbl-header" class="wj-calendar-header">'+'<div wj-part="btn-month" class="wj-month-select">'+'<span wj-part="span-month"></span> <span class="wj-glyph-down"></span>'+"</div>"+'<div class="wj-btn-group">'+'<button type="button" wj-part="btn-prev" tabindex="-1" class="wj-btn wj-btn-default"><span class="wj-glyph-left"></span></button>'+'<button type="button" wj-part="btn-today" tabindex="-1" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"></span></button>'+'<button type="button" wj-part="btn-next" tabindex="-1" class="wj-btn wj-btn-default"><span class="wj-glyph-right"></span></button>'+"</div>"+"</div>"+'<table wj-part="tbl-month" class="wj-calendar-month" />'+'<table wj-part="tbl-year" class="wj-calendar-year" style="display:none" />'+"</div>";return Calendar}(wijmo.Control);input.Calendar=Calendar})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var ColorPicker=function(_super){__extends(ColorPicker,_super);function ColorPicker(element,options){_super.call(this,element);this._hsb=[.5,1,1];this._alpha=1;this.valueChanged=new wijmo.Event;var tpl=this.getTemplate();this.applyTemplate("wj-control wj-colorpicker wj-content",tpl,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"});this._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(",");this._updatePalette();this._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)";this._eHue.style.backgroundSize="contain";if(navigator.appVersion.indexOf("MSIE 9")>-1){this._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)";this._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"}tpl=ColorPicker._tplCursor;this._cSB=wijmo.createElement(tpl);this._cHue=wijmo.createElement(tpl);this._cHue.style.width="100%";this._cAlpha=wijmo.createElement(tpl);this._cAlpha.style.height="100%";this._eSB.appendChild(this._cSB);this._eHue.appendChild(this._cHue);this._eAlpha.appendChild(this._cAlpha);var self=this;this.addEventListener(this.hostElement,"mousedown",function(e){document.addEventListener("mousemove",mouseMove);document.addEventListener("mouseup",mouseUp);self._mouseDown(e)});var mouseMove=function(e){self._mouseMove(e)};var mouseUp=function(e){document.removeEventListener("mousemove",mouseMove);document.removeEventListener("mouseup",mouseUp);self._mouseUp(e)};this.addEventListener(this.hostElement,"click",function(e){var el=e.target;if(el&&el.tagName=="DIV"&&wijmo.contains(self._ePal,el)){var color=el.style.backgroundColor;if(color){self.value=new wijmo.Color(color).toString()}}});this.value="#ffffff";this.initialize(options);this._updatePanels()}Object.defineProperty(ColorPicker.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!="none"},set:function(value){this._eAlpha.parentElement.style.display=wijmo.asBoolean(value)?"":"none"},enumerable:true,configurable:true});Object.defineProperty(ColorPicker.prototype,"showColorString",{get:function(){return this._eText.style.display!="none"},set:function(value){this._eText.style.display=wijmo.asBoolean(value)?"":"none"},enumerable:true,configurable:true});Object.defineProperty(ColorPicker.prototype,"value",{get:function(){return this._value},set:function(value){if(value!=this.value){this._value=wijmo.asString(value);this._eText.innerText=this._value;var c=new wijmo.Color(this._value),hsb=c.getHsb();if(this._hsb[0]!=hsb[0]||this._hsb[1]!=hsb[1]||this._hsb[2]!=hsb[2]||this._alpha!=c.a){if(hsb[2]==0){hsb[0]=this._hsb[0];hsb[1]=this._hsb[1]}else if(hsb[1]==0){hsb[0]=this._hsb[0]}this._hsb=hsb;this._alpha=c.a;this.onValueChanged()}}},enumerable:true,configurable:true});Object.defineProperty(ColorPicker.prototype,"palette",{get:function(){return this._palette},set:function(value){value=wijmo.asArray(value);for(var i=0;i<value.length&&i<this._palette.length;i++){var entry=wijmo.asString(value[i]);this._palette[i]=entry}this._updatePalette()},enumerable:true,configurable:true});ColorPicker.prototype.onValueChanged=function(){this._updatePanels();this.valueChanged.raise(this)};ColorPicker.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e);if(this._htDown){e.preventDefault();this.focus();this._mouseMove(e)}};ColorPicker.prototype._mouseMove=function(e){if(this._htDown){var rc=this._htDown.getBoundingClientRect();if(this._htDown==this._eHue){this._hsb[0]=wijmo.clamp((e.clientY-rc.top)/rc.height,0,.99);this._updateColor()}else if(this._htDown==this._eSB){this._hsb[1]=wijmo.clamp((e.clientX-rc.left)/rc.width,0,1);this._hsb[2]=wijmo.clamp(1-(e.clientY-rc.top)/rc.height,0,1);this._updateColor()}else if(this._htDown==this._eAlpha){this._alpha=wijmo.clamp((e.clientX-rc.left)/rc.width,0,1);this._updateColor()}}};ColorPicker.prototype._mouseUp=function(e){this._htDown=null};ColorPicker.prototype._updateColor=function(){var c=wijmo.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=c.toString();this._updatePanels()};ColorPicker.prototype._updatePalette=function(){var white=new wijmo.Color("#fff"),black=new wijmo.Color("#000");this._ePal.innerHTML="";for(var i=0;i<this._palette.length;i++){var div=wijmo.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),clr=new wijmo.Color(this._palette[i]),hsb=clr.getHsb();div.appendChild(this._makePalEntry(clr,4));for(var r=0;r<5;r++){if(hsb[1]==0){var pct=r*.1+(hsb[2]>.5?.05:.55);clr=wijmo.Color.interpolate(white,black,pct)}else{clr=wijmo.Color.fromHsb(hsb[0],.1+r*.2,1-r*.1)}div.appendChild(this._makePalEntry(clr,0))}this._ePal.appendChild(div)}};ColorPicker.prototype._makePalEntry=function(color,margin){var e=document.createElement("div");wijmo.setCss(e,{width:"100%",cursor:"pointer",backgroundColor:color.toString(),marginBottom:margin});e.innerHTML="&nbsp";return e};ColorPicker.prototype._updatePanels=function(){var clrHue=wijmo.Color.fromHsb(this._hsb[0],1,1,1),clrSolid=wijmo.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=clrHue.toString();this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+clrSolid.toString()+" 100%)";if(navigator.appVersion.indexOf("MSIE 9")>-1){this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+clrSolid.toString()+", GradientType = 1)"}this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(this._hsb[0]*100).toFixed(0)+"%";this._cSB.style.left=(this._hsb[1]*100).toFixed(0)+"%";this._cSB.style.top=(100-this._hsb[2]*100).toFixed(0)+"%";this._cAlpha.style.left=(this._alpha*100).toFixed(0)+"%"};ColorPicker.prototype._getTargetPanel=function(e){var target=e.target;if(wijmo.contains(this._eSB,target))return this._eSB;if(wijmo.contains(this._eHue,target))return this._eHue;if(wijmo.contains(this._eAlpha,target))return this._eAlpha;return null};ColorPicker.controlTemplate='<div style="position:relative;width:100%;height:100%">'+'<div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px">'+'<div wj-part="div-pal">'+'<div style="float:left;width:10%;box-sizing:border-box;padding:2px">'+'<div style="background-color:black;width:100%">&nbsp;</div>'+'<div style="height:6px"></div>'+"</div>"+"</div>"+'<div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div>'+"</div>"+'<div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px">'+'<div wj-part="div-sb" class="wj-colorbox" style="position:relative;float:left;width:89%;height:89%">'+'<div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div>'+'<div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div>'+"</div>"+'<div style="float:left;width:1%;height:89%"></div>'+'<div style="float:left;width:10%;height:89%">'+'<div wj-part="div-hue" class="wj-colorbox" style="position:relative;width:100%;height:100%;cursor:pointer"></div>'+"</div>"+'<div style="float:left;width:89%;height:1%"></div>'+'<div style="float:left;width:89%;height:10%">'+'<div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)">'+'<div wj-part="div-alpha" class="wj-colorbox" style="position:relative;width:100%;height:100%;cursor:pointer"></div>'+"</div>"+"</div>"+'<div style="float:left;width:1%;height:10%"></div>'+'<div style="float:left;width:10%;height:10%">'+'<div wj-part="div-pv" class="wj-colorbox" style="width:100%;height:100%"></div>'+"</div>"+"</div>"+"</div>";ColorPicker._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f;"></div>';return ColorPicker}(wijmo.Control);input.ColorPicker=ColorPicker})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var ListBox=function(_super){__extends(ListBox,_super);function ListBox(element,options){_super.call(this,element);this._html=false;this._search="";this.selectedIndexChanged=new wijmo.Event;this.itemsChanged=new wijmo.Event;this.loadingItems=new wijmo.Event;this.loadedItems=new wijmo.Event;this.itemChecked=new wijmo.Event;this.checkedItemsChanged=new wijmo.Event;this.formatItem=new wijmo.Event;this.applyTemplate("wj-control wj-listbox wj-content",null,null);if(this._orgTag=="SELECT"){this._copyOriginalAttributes(this.hostElement);this._populateSelectElement(this.hostElement)}var e=this.hostElement;this.addEventListener(e,"click",this._click.bind(this));this.addEventListener(e,"keydown",this._keydown.bind(this));this.addEventListener(e,"keypress",this._keypress.bind(this));this.initialize(options)}ListBox.prototype.refresh=function(){_super.prototype.refresh.call(this);this._populateList()};Object.defineProperty(ListBox.prototype,"itemsSource",{get:function(){return this._items},set:function(value){if(this._items!=value){if(this._cv){this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this);this._cv=null}this._items=value;this._cv=wijmo.asCollectionView(value);if(this._cv!=null){this._cv.currentChanged.addHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)}this._populateList();this.onItemsChanged();this.onSelectedIndexChanged()}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"collectionView",{get:function(){return this._cv},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"isContentHtml",{get:function(){return this._html},set:function(value){if(value!=this._html){this._html=wijmo.asBoolean(value);this._populateList()}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(value){if(value!=this._itemFormatter){this._itemFormatter=wijmo.asFunction(value);this._populateList()}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"displayMemberPath",{get:function(){return this._pathDisplay},set:function(value){if(value!=this._pathDisplay){this._pathDisplay=wijmo.asString(value);this._populateList()}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"selectedValuePath",{get:function(){return this._pathValue},set:function(value){this._pathValue=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"checkedMemberPath",{get:function(){return this._pathChecked},set:function(value){if(value!=this._pathChecked){this._pathChecked=wijmo.asString(value);this._populateList()}},enumerable:true,configurable:true});ListBox.prototype.getDisplayValue=function(index){var item=null;if(index>-1&&this._cv&&this._cv.items){item=this._cv.items[index];if(item&&this.displayMemberPath){item=item[this.displayMemberPath]}}var text=item!=null?item.toString():"";if(this.itemFormatter){text=this.itemFormatter(index,text)}return text};ListBox.prototype.getDisplayText=function(index){var children=this.hostElement.children,item=index>-1&&index<children.length?children[index]:null;return item!=null?item.textContent:""};Object.defineProperty(ListBox.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(value){if(this._cv){this._cv.moveCurrentToPosition(wijmo.asNumber(value))}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(value){if(this._cv){this._cv.moveCurrentTo(value)}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"selectedValue",{get:function(){var item=this.selectedItem;if(item&&this.selectedValuePath){item=item[this.selectedValuePath]}return item},set:function(value){var path=this.selectedValuePath,index=-1;if(this._cv){for(var i=0;i<this._cv.items.length;i++){var item=this._cv.items[i];if(path&&item[path]==value||!path&&item==value){index=i;break}}this.selectedIndex=index}},enumerable:true,configurable:true});Object.defineProperty(ListBox.prototype,"maxHeight",{get:function(){return parseFloat(this.hostElement.style.maxHeight)},set:function(value){this.hostElement.style.maxHeight=wijmo.asNumber(value)+"px"},enumerable:true,configurable:true});ListBox.prototype.showSelection=function(){var index=this.selectedIndex,host=this.hostElement,children=host.children,e;for(var i=0;i<children.length;i++){e=children[i];wijmo.toggleClass(e,"wj-state-selected",i==index)}if(index>-1&&index<children.length){e=children[index];var rco=e.getBoundingClientRect();var rcc=this.hostElement.getBoundingClientRect();if(rco.bottom>rcc.bottom){host.scrollTop+=rco.bottom-rcc.bottom}else if(rco.top<rcc.top){host.scrollTop-=rcc.top-rco.top}}};ListBox.prototype.getItemChecked=function(index){var item=this._cv.items[index];if(wijmo.isObject(item)&&this.checkedMemberPath){return item[this.checkedMemberPath]}var cb=this._getCheckbox(index);return cb?cb.checked:false};ListBox.prototype.setItemChecked=function(index,checked){
this._setItemChecked(index,checked,true)};ListBox.prototype.toggleItemChecked=function(index){this.setItemChecked(index,!this.getItemChecked(index))};Object.defineProperty(ListBox.prototype,"checkedItems",{get:function(){var arr=[];if(this._cv){for(var i=0;i<this._cv.items.length;i++){if(this.getItemChecked(i)){arr.push(this._cv.items[i])}}}return arr},set:function(value){var cv=this._cv,arr=wijmo.asArray(value,false);if(cv&&arr){var pos=cv.currentPosition;for(var i=0;i<cv.items.length;i++){var item=cv.items[i];this._setItemChecked(i,arr.indexOf(item)>-1,false)}cv.moveCurrentToPosition(pos);this.onCheckedItemsChanged()}},enumerable:true,configurable:true});ListBox.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)};ListBox.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)};ListBox.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)};ListBox.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)};ListBox.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)};ListBox.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)};ListBox.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)};ListBox.prototype._setItemChecked=function(index,checked,notify){if(typeof notify==="undefined"){notify=true}var item=this._cv.items[index];if(wijmo.isObject(item)){var ecv=wijmo.tryCast(this._cv,"IEditableCollectionView");if(item[this.checkedMemberPath]!=checked){this._checking=true;if(ecv){ecv.editItem(item);item[this.checkedMemberPath]=checked;ecv.commitEdit()}else{item[this.checkedMemberPath]=checked;this._cv.refresh()}this._checking=false}}var cb=this._getCheckbox(index);if(cb&&cb.checked!=checked){cb.checked=checked}if(notify){this.onItemChecked();this.onCheckedItemsChanged()}};ListBox.prototype._cvCollectionChanged=function(sender,e){if(!this._checking){this._populateList();this.onItemsChanged()}};ListBox.prototype._cvCurrentChanged=function(sender,e){this.showSelection();this.onSelectedIndexChanged()};ListBox.prototype._populateList=function(){var host=this.hostElement;if(host){var focus=this.containsFocus();this.onLoadingItems();host.innerHTML="";if(this._cv){for(var i=0;i<this._cv.items.length;i++){var text=this.getDisplayValue(i);if(this._html!=true){text=wijmo.escapeHtml(text)}if(this.checkedMemberPath){var checked=this._cv.items[i][this.checkedMemberPath];text='<label><input type="checkbox" tabindex="-1"'+(checked?" checked":"")+"> "+text+"</label>"}var item=document.createElement("div");item.innerHTML=text;item.className="wj-listbox-item";if(wijmo.hasClass(item.firstChild,"wj-separator")){item.className+=" wj-separator"}if(this.formatItem.hasHandlers){var e=new FormatItemEventArgs(i,this._cv.items[i],item);this.onFormatItem(e)}host.appendChild(item)}}if(host.children.length==0){host.appendChild(document.createElement("div"))}if(focus&&!this.containsFocus()){this.focus()}this.showSelection();this.onLoadedItems()}};ListBox.prototype._click=function(e){var children=this.hostElement.children;for(var index=0;index<children.length;index++){if(wijmo.contains(children[index],e.target)){this.selectedIndex=index;break}}if(this.checkedMemberPath&&this.selectedIndex>-1){var cb=this._getCheckbox(this.selectedIndex);if(cb==e.target){this.setItemChecked(this.selectedIndex,cb.checked)}}if(this.containsFocus()&&document.activeElement!=this.hostElement){this.focus()}};ListBox.prototype._keydown=function(e){var handled=true,index=this.selectedIndex,host=this.hostElement,children=host.children;switch(e.keyCode){case 40:if(index<children.length-1){this.selectedIndex++}break;case 38:if(index>0){this.selectedIndex--}break;case 36:this.selectedIndex=0;break;case 35:this.selectedIndex=children.length-1;break;case 34:if(this.selectedIndex>-1){var index=this.selectedIndex,height=host.offsetHeight,offset=0;for(var i=index+1;i<this._cv.items.length;i++){var itemHeight=children[i].scrollHeight;if(offset+itemHeight>height){this.selectedIndex=i;break}offset+=itemHeight}if(this.selectedIndex==index){this._cv.moveCurrentToLast()}}break;case 33:if(this.selectedIndex>-1){var index=this.selectedIndex,height=host.offsetHeight,offset=0;for(var i=index-1;i>0;i--){var itemHeight=children[i].scrollHeight;if(offset+itemHeight>height){this.selectedIndex=i;break}offset+=itemHeight}if(this.selectedIndex==index){this._cv.moveCurrentToFirst()}}break;case 32:if(this.checkedMemberPath&&this.selectedIndex>-1){var cb=this._getCheckbox(this.selectedIndex);if(cb){e.preventDefault();this.setItemChecked(this.selectedIndex,!cb.checked)}}break;default:handled=false;break}if(handled){e.preventDefault()}};ListBox.prototype._keypress=function(e){if(!e.defaultPrevented){if(e.charCode>32||e.charCode==32&&this._search){e.preventDefault();this._search+=String.fromCharCode(e.charCode).toLowerCase();var self=this;if(self._toSearch){clearTimeout(self._toSearch)}self._toSearch=setTimeout(function(){self._toSearch=0;self._search=""},600);var cnt=this.hostElement.childElementCount;for(var off=this._search.length>1?0:1;off<cnt;off++){var idx=(this.selectedIndex+off)%cnt,txt=this.getDisplayText(idx).trim().toLowerCase();if(txt.indexOf(this._search)==0){this.selectedIndex=idx;break}}}}};ListBox.prototype._getCheckbox=function(index){var li=this.hostElement.children[index];return li.querySelector("input[type=checkbox]")};ListBox.prototype._populateSelectElement=function(hostElement){var children=hostElement.children,items=[],selIndex=-1;for(var i=0;i<children.length;i++){var child=children[i];if(child.tagName=="OPTION"){if(child.hasAttribute("selected")){selIndex=items.length}if(child.innerHTML){items.push({hdr:child.innerHTML,val:child.getAttribute("value"),cmdParam:child.getAttribute("cmd-param")})}else{items.push({hdr:'<div class="wj-separator" style="width:100%;height:1px;margin:3px 0px;background-color:rgba(0,0,0,.2)"/>'})}hostElement.removeChild(child);i--}}if(items){this.displayMemberPath="hdr";this.selectedValuePath="val";this.itemsSource=items;this.selectedIndex=selIndex}};return ListBox}(wijmo.Control);input.ListBox=ListBox;var FormatItemEventArgs=function(_super){__extends(FormatItemEventArgs,_super);function FormatItemEventArgs(index,data,item){_super.call(this);this._index=wijmo.asNumber(index);this._data=data;this._item=wijmo.asType(item,HTMLElement)}Object.defineProperty(FormatItemEventArgs.prototype,"index",{get:function(){return this._index},enumerable:true,configurable:true});Object.defineProperty(FormatItemEventArgs.prototype,"data",{get:function(){return this._data},enumerable:true,configurable:true});Object.defineProperty(FormatItemEventArgs.prototype,"item",{get:function(){return this._item},enumerable:true,configurable:true});return FormatItemEventArgs}(wijmo.EventArgs);input.FormatItemEventArgs=FormatItemEventArgs})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var ComboBox=function(_super){__extends(ComboBox,_super);function ComboBox(element,options){_super.call(this,element);this._required=true;this._editable=false;this._composing=false;this._deleting=false;this._settingText=false;this.selectedIndexChanged=new wijmo.Event;var self=this;this.addEventListener(this._tbx,"compositionstart",function(){self._composing=true});this.addEventListener(this._tbx,"compositionend",function(){self._composing=false;self._setText(self.text,true)});var evt="onmousewheel"in document?"mousewheel":"DOMMouseScroll";this.addEventListener(this.hostElement,evt,function(e){if(self.containsFocus()&&!self.isDroppedDown&&!e.defaultPrevented){if(self.selectedIndex>-1){var step=wijmo.clamp(e.wheelDelta||-e.detail,-1,+1);self.selectedIndex=wijmo.clamp(self.selectedIndex-step,0,self.collectionView.items.length-1);e.preventDefault()}}});if(this._orgTag=="SELECT"){this._copyOriginalAttributes(this.hostElement);this._lbx._populateSelectElement(this.hostElement)}this.initialize(options)}Object.defineProperty(ComboBox.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(value){this._lbx.itemsSource=value;this._updateBtn()},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(value){this._lbx.displayMemberPath=value;var text=this.getDisplayText();if(this.text!=text){this._setText(text,true)}},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(value){this._lbx.selectedValuePath=value},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(value){if(value!=this.isContentHtml){this._lbx.isContentHtml=wijmo.asBoolean(value);var text=this.getDisplayText();if(this.text!=text){this._setText(text,true)}}},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(value){this._lbx.itemFormatter=wijmo.asFunction(value)},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(value){if(value!=this.selectedIndex){this._lbx.selectedIndex=value}var text=this.getDisplayText(value);if(this.text!=text){this._setText(text,true)}},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(value){this._lbx.selectedItem=value},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(value){this._lbx.selectedValue=value},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"required",{get:function(){return this._required},set:function(value){this._required=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"isEditable",{get:function(){return this._editable},set:function(value){this._editable=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(value){this._lbx.maxHeight=wijmo.asNumber(value)},enumerable:true,configurable:true});Object.defineProperty(ComboBox.prototype,"maxDropDownWidth",{get:function(){var lbx=this._dropDown;return parseInt(lbx.style.maxWidth)},set:function(value){var lbx=this._dropDown;lbx.style.maxWidth=wijmo.asNumber(value)+"px"},enumerable:true,configurable:true});ComboBox.prototype.getDisplayText=function(index){if(typeof index==="undefined"){index=this.selectedIndex}return this._lbx.getDisplayText(index)};ComboBox.prototype.onSelectedIndexChanged=function(e){this._updateBtn();this.selectedIndexChanged.raise(this,e)};ComboBox.prototype.indexOf=function(text,fullMatch){var cv=this.collectionView;if(cv&&cv.items&&text){text=text.toString().toLowerCase();for(var i=0;i<cv.items.length;i++){var t=this.getDisplayText(i).toLowerCase();if(fullMatch){if(t==text){return i}}else{if(t.indexOf(text)==0){return i}}}}return-1};Object.defineProperty(ComboBox.prototype,"listBox",{get:function(){return this._lbx},enumerable:true,configurable:true});ComboBox.prototype.onIsDroppedDownChanging=function(e){var cv=this.collectionView;return cv&&cv.items.length?_super.prototype.onIsDroppedDownChanging.call(this,e):false};ComboBox.prototype.onIsDroppedDownChanged=function(e){_super.prototype.onIsDroppedDownChanged.call(this,e);if(this.isDroppedDown){this._lbx.showSelection();if(!this.isTouching){this.selectAll()}}};ComboBox.prototype._updateBtn=function(){var cv=this.collectionView;this._btn.style.display=this._showBtn&&cv&&cv.items.length?"":"none"};ComboBox.prototype._createDropDown=function(){var self=this;this._lbx=new input.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){self._updateBtn();self.selectedIndex=self._lbx.selectedIndex;self.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){self._updateBtn()});this.addEventListener(this._dropDown,"click",function(){self.isDroppedDown=false})};ComboBox.prototype._setText=function(text,fullMatch){if(this._composing)return;if(this._settingText)return;this._settingText=true;if(text==null)text="";text=text.toString();var index=this.selectedIndex,cv=this.collectionView,start=this._getSelStart(),len=-1;if(!this.isEditable||!this._deleting){index=this.indexOf(text,fullMatch);if(index<0&&fullMatch){index=this.indexOf(text,false)}if(index<0&&start>0){index=this.indexOf(text.substr(0,start),false)}if(index<0&&!this.isEditable&&cv&&cv.items){if(this.required||text){index=Math.max(0,this.indexOf(this._oldText,false))}}if(index>-1){len=start;text=this.getDisplayText(index)}}if(cv){cv.moveCurrentToPosition(index)}if(text!=this._tbx.value){this._tbx.value=text}if(len>-1&&this.containsFocus()&&!this.isTouching){this._setSelectionRange(len,text.length)}_super.prototype._setText.call(this,text,fullMatch);this._deleting=false;this._settingText=false};ComboBox.prototype._findNext=function(text,step){if(this.collectionView){text=text.toLowerCase();var len=this.collectionView.items.length,index,t;for(var i=1;i<=len;i++){index=(this.selectedIndex+i*step+len)%len;t=this.getDisplayText(index).toLowerCase();if(t.indexOf(text)==0){return index}}}return this.selectedIndex};ComboBox.prototype._keydown=function(e){_super.prototype._keydown.call(this,e);if(e.defaultPrevented){return}if(this._elRef!=this._tbx){return}if(e.keyCode==8||e.keyCode==46){this._deleting=true}var cv=this.collectionView;if(!cv||!cv.items){return}var start=-1;switch(e.keyCode){case 38:start=this._getSelStart();this.selectedIndex=this._findNext(this.text.substr(0,start),-1);this._setSelectionRange(start,this.text.length);e.preventDefault();break;case 40:start=this._getSelStart();this.selectedIndex=this._findNext(this.text.substr(0,start),+1);this._setSelectionRange(start,this.text.length);e.preventDefault();break}};ComboBox.prototype._setSelectionRange=function(start,end){if(this._elRef==this._tbx){wijmo.setSelectionRange(this._tbx,start,end)}};ComboBox.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0};return ComboBox}(input.DropDown);input.ComboBox=ComboBox})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var AutoComplete=function(_super){__extends(AutoComplete,_super);function AutoComplete(element,options){_super.call(this,element);this._minLength=2;this._maxItems=6;this._itemCount=0;this._delay=500;this._query="";this._handlingCallback=false;this.isEditable=true;this.isContentHtml=true;this.itemFormatter=this._defaultFormatter.bind(this);if(options){this.initialize(options)}}Object.defineProperty(AutoComplete.prototype,"minLength",{get:function(){return this._minLength},set:function(value){this._minLength=wijmo.asNumber(value,false,true)},enumerable:true,configurable:true});Object.defineProperty(AutoComplete.prototype,"maxItems",{get:function(){return this._maxItems},set:function(value){this._maxItems=wijmo.asNumber(value,false,true)},enumerable:true,configurable:true});Object.defineProperty(AutoComplete.prototype,"delay",{get:function(){return this._delay},set:function(value){this._delay=wijmo.asNumber(value,false,true)},enumerable:true,configurable:true});Object.defineProperty(AutoComplete.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(value){this._itemsSourceFn=wijmo.asFunction(value)},enumerable:true,configurable:true});Object.defineProperty(AutoComplete.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(value){this._cssMatch=wijmo.asString(value)},enumerable:true,configurable:true});AutoComplete.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown){switch(e.keyCode){case 38:case 40:this.selectAll();break}}_super.prototype._keydown.call(this,e)};AutoComplete.prototype._setText=function(text){if(this._handlingCallback){return}if(!text&&this.selectedIndex>-1){this.selectedIndex=-1}if(text!=this._oldText){if(this._tbx.value!=text){this._tbx.value=text}this._oldText=text;this.onTextChanged();if(!text&&this.collectionView){this.collectionView.filter=this._query=null;this.isDroppedDown=false;return}}var self=this;if(self._toSearch){clearTimeout(self._toSearch)}if(text!=this.getDisplayText()){self._toSearch=setTimeout(function(){self._toSearch=null;var terms=self.text.trim().toLowerCase();if(terms.length>=self._minLength&&terms!=self._query){self._query=terms;terms=terms.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");self._rxMatch=new RegExp("(?=.*"+terms.replace(/ /g,")(?=.*")+")","ig");self._rxHighlight=new RegExp("("+terms.replace(/ /g,"|")+")","ig");if(self.itemsSourceFunction){self.itemsSourceFunction(terms,self.maxItems,self._itemSourceFunctionCallback.bind(self))}else{self._updateItems()}}},this._delay)}};AutoComplete.prototype._itemSourceFunctionCallback=function(result){this._handlingCallback=true;var cv=wijmo.asCollectionView(result);if(cv){cv.moveCurrentToPosition(-1)}this.itemsSource=cv;this.isDroppedDown=true;this._handlingCallback=false;this.refresh()};AutoComplete.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e);this._query="";if(this.selectedIndex>-1){this._setText(this.getDisplayText());if(!this.isTouching){this.selectAll()}}else if(!this.isTouching){this._tbx.focus()}};AutoComplete.prototype._updateItems=function(){var cv=this.collectionView;if(cv){this._handlingCallback=true;cv.beginUpdate();this._itemCount=0;cv.filter=this._filter.bind(this);cv.moveCurrentToPosition(-1);cv.endUpdate();this._handlingCallback=false;this.isDroppedDown=cv.items.length>0&&this.containsFocus();if(cv.items.length==0&&!this.isEditable){this.selectedIndex=-1}this.refresh()}};AutoComplete.prototype._filter=function(item){if(this._itemCount>=this._maxItems){return false}if(this.displayMemberPath){item=item[this.displayMemberPath]}var text=item!=null?item.toString():"";if(this._rxMatch.test(text)){this._itemCount++;return true}return false};AutoComplete.prototype._defaultFormatter=function(index,text){var r="<b>$1</b>";if(this._cssMatch){r="<span class="+this._cssMatch+">$1</span>"}return text.replace(this._rxHighlight,r)};return AutoComplete}(input.ComboBox);input.AutoComplete=AutoComplete})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var Menu=function(_super){__extends(Menu,_super);function Menu(element,options){_super.call(this,element);this.itemClicked=new wijmo.Event;this._tbx.style.display="none";var tpl='<div wj-part="header" class="wj-form-control" style="cursor:default"/>';this._hdr=wijmo.createElement(tpl);this._tbx.parentElement.insertBefore(this._hdr,this._tbx);this._elRef=this._hdr;this.required=false;if(this._orgTag=="SELECT"){this.header=this.hostElement.getAttribute("header");if(this._lbx.itemsSource){this.commandParameterPath="cmdParam"}}this.isContentHtml=true;this.maxDropDownHeight=500;var self=this;this.addEventListener(this._hdr,"click",function(){if(self._isButton){self.isDroppedDown=false;self._raiseCommand(wijmo.EventArgs.empty)}else{self.isDroppedDown=!self.isDroppedDown}});this.initialize(options)}Object.defineProperty(Menu.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(value){this._hdr.innerHTML=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(Menu.prototype,"command",{get:function(){return this._command},set:function(value){this._command=value},enumerable:true,configurable:true});Object.defineProperty(Menu.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(value){this._cmdPath=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(Menu.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(value){this._cmdParamPath=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(Menu.prototype,"isButton",{get:function(){return this._isButton},set:function(value){this._isButton=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(Menu.prototype,"owner",{get:function(){return this._owner},set:function(value){this._enableDisableItems();this._owner=wijmo.asType(value,HTMLElement,true)},enumerable:true,configurable:true});Menu.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)};Menu.prototype.onTextChanged=function(e){_super.prototype.onTextChanged.call(this,e);if(!this._closing&&this.isDroppedDown){this._raiseCommand(e)}};Menu.prototype.onIsDroppedDownChanged=function(e){_super.prototype.onIsDroppedDownChanged.call(this,e);if(this.isDroppedDown){this._closing=true;this._defaultItem=this.selectedItem;this.required=false;this.selectedIndex=-1;this._enableDisableItems();this._closing=false}else{if(!this.selectedItem){this.selectedItem=this._defaultItem}}};Menu.prototype._raiseCommand=function(e){var item=this.selectedItem,cmd=this._getCommand(item);if(cmd){var parm=this._cmdParamPath?item[this._cmdParamPath]:null;if(!this._canExecuteCommand(cmd,parm)){return}this._executeCommand(cmd,parm)}this.onItemClicked(e)};Menu.prototype._getCommand=function(item){var cmd=item&&this.commandPath?item[this.commandPath]:null;return cmd?cmd:this.command};Menu.prototype._executeCommand=function(cmd,parm){if(cmd&&!wijmo.isFunction(cmd)){cmd=cmd["executeCommand"]}if(wijmo.isFunction(cmd)){cmd(parm)}};Menu.prototype._canExecuteCommand=function(cmd,parm){if(cmd){var x=cmd["canExecuteCommand"];if(wijmo.isFunction(x)){return x(parm)}}return true};Menu.prototype._enableDisableItems=function(){if(this.collectionView&&(this.command||this.commandPath)){var items=this.collectionView.items;for(var i=0;i<items.length;i++){var cmd=this._getCommand(items[i]),parm=this.commandParameterPath?items[i][this.commandParameterPath]:null;if(cmd){var el=this._lbx.hostElement.children[i];wijmo.toggleClass(el,"wj-state-disabled",!this._canExecuteCommand(cmd,parm))}}}};return Menu}(input.ComboBox);input.Menu=Menu})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};wijmo.culture.MultiSelect={itemsSelected:"{count:n0} items selected"};var wijmo;(function(wijmo){(function(input){"use strict";var MultiSelect=function(_super){__extends(MultiSelect,_super);function MultiSelect(element,options){_super.call(this,element);this._maxHdrItems=2;this._hdrFmt=wijmo.culture.MultiSelect.itemsSelected;this.checkedItemsChanged=new wijmo.Event;this.inputElement.setAttribute("readonly","");var self=this;this.addEventListener(this.inputElement,"click",function(){self.isDroppedDown=!self.isDroppedDown});this.checkedMemberPath=null;this.removeEventListener(this.dropDown,"click");var self=this;self._updateHeader();self.listBox.itemsChanged.addHandler(function(){self._updateHeader()});self.listBox.checkedItemsChanged.addHandler(function(){self._updateHeader();self.onCheckedItemsChanged()});this.initialize(options)}Object.defineProperty(MultiSelect.prototype,"checkedMemberPath",{get:function(){var p=this.listBox.checkedMemberPath;return p!=MultiSelect._DEF_CHECKED_PATH?p:null},set:function(value){value=wijmo.asString(value);this.listBox.checkedMemberPath=value?value:MultiSelect._DEF_CHECKED_PATH},enumerable:true,configurable:true});Object.defineProperty(MultiSelect.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(value){if(this._maxHdrItems!=value){this._maxHdrItems=wijmo.asNumber(value);this._updateHeader()}},enumerable:true,configurable:true});Object.defineProperty(MultiSelect.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(value){if(value!=this._hdrFmt){this._hdrFmt=wijmo.asString(value);this._updateHeader()}},enumerable:true,configurable:true});Object.defineProperty(MultiSelect.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(value){if(value!=this._hdrFormatter){this._hdrFormatter=wijmo.asFunction(value);this._updateHeader()}},enumerable:true,configurable:true});Object.defineProperty(MultiSelect.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(value){this.listBox.checkedItems=value},enumerable:true,configurable:true});MultiSelect.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)};MultiSelect.prototype.refresh=function(fullUpdate){if(typeof fullUpdate==="undefined"){fullUpdate=true}_super.prototype.refresh.call(this,fullUpdate);this._updateHeader()};MultiSelect.prototype._setText=function(text,fullMatch){};MultiSelect.prototype.onIsDroppedDownChanged=function(e){_super.prototype.onIsDroppedDownChanged.call(this,e);if(this.isDroppedDown){this.dropDown.focus()}};MultiSelect.prototype._keydown=function(e){_super.prototype._keydown.call(this,e);if(!e.defaultPrevented&&e.keyCode==32){if(this.isDroppedDown){var idx=this.selectedIndex;if(idx>-1){this._lbx.toggleItemChecked(idx)}}e.preventDefault()}};MultiSelect.prototype._updateHeader=function(){if(this._hdrFormatter){this.inputElement.value=this._hdrFormatter()}else{var items=this.checkedItems;var hdr="";if(items.length>0){if(items.length<=this._maxHdrItems){if(this.displayMemberPath){for(var i=0;i<items.length;i++){items[i]=items[i][this.displayMemberPath]}}hdr=items.join(", ")}else{hdr=wijmo.format(this.headerFormat,{count:items.length})}}this.inputElement.value=hdr}};MultiSelect._DEF_CHECKED_PATH="$checked";return MultiSelect}(input.ComboBox);input.MultiSelect=MultiSelect})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";(function(PopupTrigger){PopupTrigger[PopupTrigger["None"]=0]="None";PopupTrigger[PopupTrigger["Click"]=1]="Click";PopupTrigger[PopupTrigger["Blur"]=2]="Blur"})(input.PopupTrigger||(input.PopupTrigger={}));var PopupTrigger=input.PopupTrigger;var Popup=function(_super){__extends(Popup,_super);function Popup(element,options){_super.call(this,element,null,true);this._showTrigger=1;this._hideTrigger=2;this._fadeIn=true;this._fadeOut=true;this._click=this._handleClick.bind(this);this._blur=this._handleBlur.bind(this);this.showing=new wijmo.Event;this.shown=new wijmo.Event;this.hiding=new wijmo.Event;this.hidden=new wijmo.Event;wijmo.addClass(this.hostElement,"wj-control wj-content wj-popup");wijmo.hidePopup(this.hostElement,false);var self=this;self.addEventListener(self.hostElement,"keydown",function(e){if(!e.defaultPrevented&&e.keyCode==27){self.hide()}});self.addEventListener(self.hostElement,"click",function(e){if(wijmo.hasClass(e.target,"wj-hide")){self.hide()}});self.addEventListener(self.hostElement,"blur",this._blur,true);self.initialize(options)}Object.defineProperty(Popup.prototype,"owner",{get:function(){return this._owner},set:function(value){if(this._owner){this.removeEventListener(this._owner,"click");this.removeEventListener(this._owner,"blur")}this._owner=value!=null?wijmo.getElement(value):null;if(this._owner){this.addEventListener(this._owner,"click",this._click,true);this.addEventListener(this._owner,"blur",this._blur,true)}},enumerable:true,configurable:true});Object.defineProperty(Popup.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(value){this._showTrigger=wijmo.asEnum(value,PopupTrigger)},enumerable:true,configurable:true});Object.defineProperty(Popup.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(value){this._hideTrigger=wijmo.asEnum(value,PopupTrigger)},enumerable:true,configurable:true});Object.defineProperty(Popup.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(value){this._fadeIn=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(Popup.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(value){this._fadeOut=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(Popup.prototype,"modal",{get:function(){return this._modal},set:function(value){this._modal=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(Popup.prototype,"isVisible",{get:function(){return this.hostElement.style.display!="none"},enumerable:true,configurable:true});Popup.prototype.show=function(modal){if(!this.isVisible){var e=new wijmo.CancelEventArgs;if(this.onShowing(e)){if(modal!=null){this.modal=wijmo.asBoolean(modal)}if(this._modal){this._showBackdrop()}var ref=this._owner?this._owner.getBoundingClientRect():null;wijmo.showPopup(this.hostElement,ref,false,this._fadeIn);this.onShown(e);var self=this;setTimeout(function(){var inputs=self.hostElement.querySelectorAll("input");for(var i=0;i<inputs.length;i++){var el=inputs[i];if(!el.disabled&&el.tabIndex>-1){try{if(document.activeElement!=el){el.focus()}break}catch(x){}}}if(!self.containsFocus()){self.hostElement.tabIndex=0;self.hostElement.focus()}},200)}}};Popup.prototype.hide=function(){if(this.isVisible){var e=new wijmo.CancelEventArgs;if(this.onHiding(e)){if(this.containsFocus&&document.body){document.body.focus()}if(this._modal){wijmo.hidePopup(this._bkdrop,true,this.fadeOut)}wijmo.hidePopup(this.hostElement,true,this.fadeOut);this.onHidden(e)}}};Popup.prototype.onShowing=function(e){this.showing.raise(this,e);return!e.cancel};Popup.prototype.onShown=function(e){this.shown.raise(this,e)};Popup.prototype.onHiding=function(e){this.hiding.raise(this,e);return!e.cancel};Popup.prototype.onHidden=function(e){this.hidden.raise(this,e)};Popup.prototype.refresh=function(fullUpdate){if(typeof fullUpdate==="undefined"){fullUpdate=true}_super.prototype.refresh.call(this,fullUpdate);if(this.isVisible){var ae=document.activeElement,ref=this._owner?this._owner.getBoundingClientRect():null;wijmo.showPopup(this.hostElement,ref);if(this._modal&&ae instanceof HTMLElement&&ae!=document.activeElement){ae.focus()}}};Popup.prototype._handleResize=function(){if(this.isVisible){this.refresh()}};Popup.prototype._handleClick=function(e){if(this.isVisible&&this._hideTrigger&1){this.hide()}else if(!this.isVisible&&this._showTrigger&1){this.show()}};Popup.prototype._handleBlur=function(e){if(this.isVisible&&this._hideTrigger&2){var self=this;setTimeout(function(){if(!self.containsFocus()){self.hide()}},100)}};Popup.prototype._showBackdrop=function(){if(!this._bkdrop){this._bkdrop=document.createElement("div");this._bkdrop.tabIndex=-1;wijmo.addClass(this._bkdrop,"wj-popup-backdrop");var self=this;this.addEventListener(this._bkdrop,"mousedown",function(e){if(self.hideTrigger==0){e.preventDefault();e.stopPropagation()}})}this._bkdrop.style.display="";document.body.appendChild(this._bkdrop)};return Popup}(wijmo.Control);input.Popup=Popup})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){
for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var InputDate=function(_super){__extends(InputDate,_super);function InputDate(element,options){_super.call(this,element);this._value=new Date;this._format="d";this._required=true;this.valueChanged=new wijmo.Event;this._maskProvider=new wijmo._MaskProvider(this._tbx);this._tbx.type="tel";this.addEventListener(this._tbx,"blur",this._commitText.bind(this));var self=this,evt="onmousewheel"in document?"mousewheel":"DOMMouseScroll";this.addEventListener(this.hostElement,evt,function(e){if(self.containsFocus()&&!self.isDroppedDown&&!e.defaultPrevented){if(self.value!=null){var step=wijmo.clamp(e.wheelDelta||-e.detail,-1,+1);self.value=wijmo.DateTime.addDays(self.value,step);self.selectAll();e.preventDefault()}}});if(this._orgTag=="INPUT"){this._copyOriginalAttributes(this._tbx);var value=this._tbx.getAttribute("value");if(value){this.value=wijmo.Globalize.parseDate(value,"yyyy-MM-dd")}}this.initialize(options)}Object.defineProperty(InputDate.prototype,"inputElement",{get:function(){return this._tbx},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"inputType",{get:function(){return this._tbx.type},set:function(value){this._tbx.type=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"value",{get:function(){return this._value},set:function(value){if(wijmo.DateTime.equals(this._value,value)){this._tbx.value=wijmo.Globalize.format(value,this.format)}else{value=wijmo.asDate(value,!this.required||value==null&&this._value==null);if(value){if(this.min){var min=wijmo.DateTime.fromDateTime(this.min,value);if(value<min){value=min}}if(this.max){var max=wijmo.DateTime.fromDateTime(this.max,value);if(value>max){value=max}}}if(this._isValidDate(value)){this._tbx.value=value?wijmo.Globalize.format(value,this.format):"";if(!wijmo.DateTime.sameDate(this._value,value)){this._value=value;this.onValueChanged()}}else{this._tbx.value=value?wijmo.Globalize.format(this.value,this.format):""}}},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"text",{get:function(){return this._tbx.value},set:function(value){if(value!=this.text){this._setText(value,true);this._commitText()}},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"required",{get:function(){return this._required},set:function(value){this._required=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"min",{get:function(){return this._min},set:function(value){this._min=wijmo.asDate(value,true)},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"max",{get:function(){return this._max},set:function(value){this._max=wijmo.asDate(value,true)},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"format",{get:function(){return this._format},set:function(value){if(value!=this.format){this._format=wijmo.asString(value);this._tbx.value=wijmo.Globalize.format(this.value,this.format)}},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"mask",{get:function(){return this._maskProvider.mask},set:function(value){this._maskProvider.mask=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"calendar",{get:function(){return this._calendar},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(value){if(value!=this.itemValidator){this._calendar.itemValidator=wijmo.asFunction(value);this.invalidate()}},enumerable:true,configurable:true});Object.defineProperty(InputDate.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(value){if(value!=this.itemFormatter){this.calendar.itemFormatter=wijmo.asFunction(value)}},enumerable:true,configurable:true});InputDate.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputDate.prototype.refresh=function(){this.isDroppedDown=false;if(this._maskProvider){this._maskProvider.refresh()}if(this._calendar){this._calendar.refresh()}this._tbx.value=wijmo.Globalize.format(this.value,this.format)};InputDate.prototype.onIsDroppedDownChanged=function(e){_super.prototype.onIsDroppedDownChanged.call(this,e);if(this.isDroppedDown){this.dropDown.focus()}};InputDate.prototype._createDropDown=function(){var self=this;this._calendar=new input.Calendar(this._dropDown);this._dropDown.tabIndex=-1;this._calendar.valueChanged.addHandler(function(){self.value=wijmo.DateTime.fromDateTime(self._calendar.value,self.value)});var dtDown=self.value;this.addEventListener(this._dropDown,"mousedown",function(){dtDown=self.value});this.addEventListener(this._dropDown,"mouseup",function(){var value=self._calendar.value;if(value&&!wijmo.DateTime.sameDate(dtDown,value)){self.isDroppedDown=false}})};InputDate.prototype._updateDropDown=function(){this._calendar.value=this.value;this._calendar.min=this.min;this._calendar.max=this.max;var cs=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=parseFloat(cs.fontSize)*18+"px";this._calendar.refresh();_super.prototype._updateDropDown.call(this)};InputDate.prototype._keydown=function(e){switch(e.keyCode){case 13:this._commitText();this.selectAll();break;case 27:this.text=wijmo.Globalize.format(this.value,this.format);this.selectAll();break}_super.prototype._keydown.call(this,e)};InputDate.prototype._commitText=function(){var txt=this._tbx.value;if(!txt&&!this.required){this.value=null}else{var dt=wijmo.Globalize.parseDate(txt,this.format);if(dt){this.value=wijmo.DateTime.fromDateTime(dt,this.value)}else{this._tbx.value=wijmo.Globalize.format(this.value,this.format)}}};InputDate.prototype._setDate=function(value,time){return new Date(value.getFullYear(),value.getMonth(),value.getDate(),time.getHours(),time.getMinutes(),time.getSeconds())};InputDate.prototype._isValidDate=function(value){return this.itemValidator&&value?this.itemValidator(value):true};return InputDate}(input.DropDown);input.InputDate=InputDate})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var InputTime=function(_super){__extends(InputTime,_super);function InputTime(element,options){_super.call(this,element);this._value=new Date;this._format="t";this.valueChanged=new wijmo.Event;this._maskProvider=new wijmo._MaskProvider(this._tbx);this._tbx.type="tel";var self=this;this.addEventListener(this.hostElement,"blur",function(){self._commitText()},true);if(this._orgTag=="INPUT"){var value=this._tbx.getAttribute("value");if(value){this.value=wijmo.Globalize.parseDate(value,"HH:mm:ss")}}this.initialize(options)}Object.defineProperty(InputTime.prototype,"inputElement",{get:function(){return this._tbx},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"inputType",{get:function(){return this._tbx.type},set:function(value){this._tbx.type=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"value",{get:function(){return this._value},set:function(value){value=wijmo.asDate(value,!this.required);if(value){if(this._min!=null&&this._getTime(value)<this._getTime(this._min)){value=wijmo.DateTime.fromDateTime(value,this._min)}if(this._max!=null&&this._getTime(value)>this._getTime(this._max)){value=wijmo.DateTime.fromDateTime(value,this._max)}}if(!wijmo.DateTime.equals(value,this._value)){this._setText(value?wijmo.Globalize.format(value,this.format):"",true);this._value=value;this.onValueChanged()}},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"text",{get:function(){return this._tbx.value},set:function(value){if(value!=this.text){this._setText(value,true);this._commitText()}},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"min",{get:function(){return this._min},set:function(value){this._min=wijmo.asDate(value,true);this.isDroppedDown=false;this._updateItems()},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"max",{get:function(){return this._max},set:function(value){this._max=wijmo.asDate(value,true);this.isDroppedDown=false;this._updateItems()},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"step",{get:function(){return this._step},set:function(value){this._step=wijmo.asNumber(value,true);this.isDroppedDown=false;this._updateItems()},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"format",{get:function(){return this._format},set:function(value){if(value!=this.format){this._format=wijmo.asString(value);this._tbx.value=wijmo.Globalize.format(this.value,this.format);if(this.collectionView&&this.collectionView.items.length){this._updateItems()}}},enumerable:true,configurable:true});Object.defineProperty(InputTime.prototype,"mask",{get:function(){return this._maskProvider.mask},set:function(value){this._maskProvider.mask=wijmo.asString(value)},enumerable:true,configurable:true});InputTime.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputTime.prototype.refresh=function(){this.isDroppedDown=false;this._maskProvider.refresh();this._tbx.value=wijmo.Globalize.format(this.value,this.format);this._updateItems()};InputTime.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1){this._commitText()}_super.prototype.onSelectedIndexChanged.call(this,e)};InputTime.prototype._updateItems=function(){var min=new Date(0,0,0,0,0),max=new Date(0,0,0,23,59,59),step=wijmo.isNumber(this.step)?this.step:30,items=[];if(this.min){min.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds())}if(this.max){max.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds())}if(step>0){for(var dt=min;dt<=max;dt=wijmo.DateTime.addMinutes(dt,step)){items.push(wijmo.Globalize.format(dt,this.format))}}var text=this.text;this.itemsSource=items;this.text=text};InputTime.prototype._keydown=function(e){_super.prototype._keydown.call(this,e);switch(e.keyCode){case 13:if(!this.isDroppedDown){this._commitText();this.selectAll()}break;case 27:this.text=wijmo.Globalize.format(this.value,this.format);this.selectAll();break}};InputTime.prototype._commitText=function(){if(!this.text&&!this.required){this.value=null}else{var dt=wijmo.Globalize.parseDate(this.text,this.format);if(dt){this.value=wijmo.DateTime.fromDateTime(this.value,dt)}else{this._tbx.value=wijmo.Globalize.format(this.value,this.format)}}};InputTime.prototype._getTime=function(value){return value.getHours()*3600+value.getMinutes()*60+value.getSeconds()};return InputTime}(input.ComboBox);input.InputTime=InputTime})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var InputNumber=function(_super){__extends(InputNumber,_super);function InputNumber(element,options){_super.call(this,element);this._showBtn=true;this._required=true;this._decChar=".";this._ehSelectAll=this.selectAll.bind(this);this.textChanged=new wijmo.Event;this.valueChanged=new wijmo.Event;var tpl=this.getTemplate();this.applyTemplate("wj-control wj-inputnumber wj-content",tpl,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");if(this._orgTag=="INPUT"){this._copyOriginalAttributes(this._tbx);var value=this._tbx.getAttribute("value");if(value){this.value=wijmo.Globalize.parseFloat(value)}}this._tbx.autocomplete="off";this._decChar=wijmo.Globalize.getNumberDecimalSeparator();this._updateBtn();var self=this;this.addEventListener(this._tbx,"compositionstart",function(){self._composing=true});this.addEventListener(this._tbx,"compositionend",function(){self._composing=false;self._setText(self.text)});var tb=self._tbx;this.addEventListener(tb,"keypress",this._keypress.bind(this));this.addEventListener(tb,"keydown",this._keydown.bind(this));this.addEventListener(tb,"input",this._input.bind(this));this.addEventListener(tb,"focus",function(){setTimeout(self._ehSelectAll)});this.addEventListener(this._btnUp,"pointerup",function(e){if(self.value!=null){self.value+=self.step}});this.addEventListener(this._btnDn,"pointerup",function(e){if(self.value!=null){self.value-=self.step}});var evt="onmousewheel"in document?"mousewheel":"DOMMouseScroll";this.addEventListener(this.hostElement,evt,function(e){if(self.containsFocus()&&!e.defaultPrevented){if(self.value!=null){var step=wijmo.clamp(e.wheelDelta||-e.detail,-1,+1);self.value+=(self.step||1)*step;setTimeout(self._ehSelectAll);e.preventDefault()}}});this.addEventListener(this.hostElement,"focus",function(){if(!self.isTouching){tb.focus()}});this.addEventListener(this.hostElement,"blur",function(){var text=wijmo.Globalize.format(self.value,self.format);self._setText(text)},true);this.value=0;this.initialize(options)}Object.defineProperty(InputNumber.prototype,"inputElement",{get:function(){return this._tbx},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"inputType",{get:function(){return this._tbx.type},set:function(value){this._tbx.type=wijmo.asString(value)},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"value",{get:function(){return this._value},set:function(value){if(value!=this._value){value=wijmo.asNumber(value,!this.required||value==null&&this._value==null);if(value==null){this._setText("")}else if(!isNaN(value)){value=this._clamp(value);var text=wijmo.Globalize.format(value,this.format);this._setText(text)}}},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"required",{get:function(){return this._required},set:function(value){this._required=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"min",{get:function(){return this._min},set:function(value){this._min=wijmo.asNumber(value,true)},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"max",{get:function(){return this._max},set:function(value){this._max=wijmo.asNumber(value,true)},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"step",{get:function(){return this._step},set:function(value){this._step=wijmo.asNumber(value,true);this._updateBtn()},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"format",{get:function(){return this._format},set:function(value){if(value!=this.format){this._format=wijmo.asString(value);this.refresh()}},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"text",{get:function(){return this._tbx.value},set:function(value){if(value!=this.text){this._oldText=null;this._setText(value)}},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(value){this._tbx.placeholder=value},enumerable:true,configurable:true});Object.defineProperty(InputNumber.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(value){this._showBtn=wijmo.asBoolean(value);this._updateBtn()},enumerable:true,configurable:true});InputNumber.prototype.selectAll=function(){var rng=this._getInputRange();wijmo.setSelectionRange(this._tbx,rng[0],rng[1])};InputNumber.prototype.onTextChanged=function(e){this.textChanged.raise(this,e)};InputNumber.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputNumber.prototype.refresh=function(fullUpdate){this._decChar=wijmo.Globalize.getNumberDecimalSeparator();this._setText(wijmo.Globalize.format(this.value,this.format))};InputNumber.prototype._clamp=function(value){return wijmo.clamp(value,this.min,this.max)};InputNumber.prototype._isNumeric=function(chr,digitsOnly){if(typeof digitsOnly==="undefined"){digitsOnly=false}var isNum=chr==this._decChar||chr>="0"&&chr<="9";if(!isNum&&!digitsOnly){isNum="+-()".indexOf(chr)>-1}return isNum};InputNumber.prototype._getInputRange=function(digitsOnly){if(typeof digitsOnly==="undefined"){digitsOnly=false}var rng=[0,0],text=this.text,hasStart=false;for(var i=0;i<text.length;i++){if(this._isNumeric(text[i],digitsOnly)){if(!hasStart){rng[0]=i;hasStart=true}rng[1]=i+1}}return rng};InputNumber.prototype._moveToDigit=function(){var rng=this._getInputRange(true);wijmo.setSelectionRange(this._tbx,rng[0],rng[1])};InputNumber.prototype._updateBtn=function(){if(this._showBtn&&this._step){this._btnUp.style.display=this._btnDn.style.display="";wijmo.addClass(this.hostElement,"wj-input-show-spinner")}else{this._btnUp.style.display=this._btnDn.style.display="none";wijmo.removeClass(this.hostElement,"wj-input-show-spinner")}};InputNumber.prototype._setText=function(text){if(this._composing)return;if(!text){if(!this._required){this._tbx.value="";if(this._value!=null){this._value=null;this.onValueChanged()}if(this._oldText){this._oldText=text;this.onTextChanged()}return}text="0"}if(text=="-"){this._tbx.value=text;return}var value=wijmo.Globalize.parseFloat(text,this.format);if(isNaN(value)){this._tbx.value=this._oldText;return}if(this._oldText&&this._oldText.indexOf("%")>-1&&text.indexOf("%")<0){value/=100}value=this._clamp(value);if(value!=this._value){this._value=value;this.onValueChanged()}text=wijmo.Globalize.format(value,this.format);if(text!=this._tbx.value){this._tbx.value=text}if(text!=this._oldText){this._oldText=text;this.onTextChanged()}};InputNumber.prototype._keypress=function(e){if(this._composing)return;if(e.charCode){var chr=String.fromCharCode(e.charCode);if(!this._isNumeric(chr)){e.preventDefault()}else{var rng=this._getInputRange(true);if(this._tbx.selectionStart<rng[0]){wijmo.setSelectionRange(this._tbx,rng[0],rng[1])}}switch(chr){case"-":if(this.value){this.value*=-1;this._moveToDigit()}else{this._setText("-")}e.preventDefault();break;case"+":if(this.value){this.value=Math.abs(this.value);this._moveToDigit()}e.preventDefault();break;case this._decChar:var pos=this._tbx.value.indexOf(chr);if(pos>-1){if(this._getSelStart()<=pos){pos++}wijmo.setSelectionRange(this._tbx,pos);e.preventDefault()}break}}};InputNumber.prototype._keydown=function(e){if(this._composing)return;switch(e.keyCode){case 38:case 40:if(this.step){this.value=this._clamp(this.value+this.step*(e.keyCode==38?+1:-1));setTimeout(this.selectAll.bind(this));e.preventDefault()}break;case 46:if(this._getSelStart()==this._tbx.selectionEnd){var sel=this._getSelStart();if(sel>0&&this.text[sel]==this._decChar){wijmo.setSelectionRange(this._tbx,sel+1);e.preventDefault()}}break}};InputNumber.prototype._input=function(e){var _this=this;if(this._composing)return;setTimeout(function(){var tbx=_this._tbx,text=tbx.value,sel=_this._getSelStart(),dec=text.indexOf(_this._decChar);var isBackspace=_this._tbx.value.length-_this._oldText.length===-1;if(isBackspace&&sel>0&&_this._oldText[sel]===_this._decChar){_this._setText(_this._oldText);wijmo.setSelectionRange(tbx,sel);return}_this._setText(text);if(text){if(dec<0||sel<=dec){sel+=tbx.value.length-text.length}if(_this._oldText&&_this._oldText.indexOf(_this._decChar)>-1&&tbx.value.indexOf(_this._decChar)>-1&&dec<0){sel=tbx.value.indexOf(_this._decChar)}var rng=_this._getInputRange();if(sel<rng[0])sel=rng[0];if(sel>rng[1])sel=rng[1];wijmo.setSelectionRange(tbx,sel)}})};InputNumber.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0};InputNumber.controlTemplate='<div class="wj-input">'+'<div class="wj-input-group">'+'<span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1">'+'<button class="wj-btn wj-btn-default" type="button" tabindex="-1">-</button>'+"</span>"+'<input type="tel" wj-part="input" class="wj-form-control wj-numeric"/>'+'<span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1">'+'<button class="wj-btn wj-btn-default" type="button" tabindex="-1">+</button>'+"</span>"+"</div>";return InputNumber}(wijmo.Control);input.InputNumber=InputNumber})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var InputMask=function(_super){__extends(InputMask,_super);function InputMask(element,options){_super.call(this,element);this.valueChanged=new wijmo.Event;var tpl=this.getTemplate();this.applyTemplate("wj-control wj-inputmask wj-content",tpl,{_tbx:"input"},"input");if(this._orgTag=="INPUT"){this._copyOriginalAttributes(this._tbx);var value=this._tbx.getAttribute("value");if(value){this.value=value}}this._maskProvider=new wijmo._MaskProvider(this._tbx);this.initialize(options);var self=this;this.addEventListener(this._tbx,"input",function(){setTimeout(function(){self.onValueChanged()})})}Object.defineProperty(InputMask.prototype,"inputElement",{get:function(){return this._tbx},enumerable:true,configurable:true});Object.defineProperty(InputMask.prototype,"value",{get:function(){return this._tbx.value},set:function(value){if(value!=this.value){this._tbx.value=wijmo.asString(value);this.onValueChanged()}},enumerable:true,configurable:true});Object.defineProperty(InputMask.prototype,"rawValue",{get:function(){return this._maskProvider.getRawValue()},set:function(value){this.value=value},enumerable:true,configurable:true});Object.defineProperty(InputMask.prototype,"mask",{get:function(){return this._maskProvider.mask},set:function(value){var oldValue=this.value;this._maskProvider.mask=wijmo.asString(value);if(this.value!=oldValue){this.onValueChanged()}},enumerable:true,configurable:true});Object.defineProperty(InputMask.prototype,"promptChar",{get:function(){return this._maskProvider.promptChar},set:function(value){var oldValue=this.value;this._maskProvider.promptChar=value;if(this.value!=oldValue){this.onValueChanged()}},enumerable:true,configurable:true});Object.defineProperty(InputMask.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(value){this._tbx.placeholder=value},enumerable:true,configurable:true});Object.defineProperty(InputMask.prototype,"maskFull",{get:function(){return this._maskProvider.maskFull},enumerable:true,configurable:true});InputMask.prototype.selectAll=function(){var rng=this._maskProvider.getMaskRange();wijmo.setSelectionRange(this._tbx,rng[0],rng[1]+1)};InputMask.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputMask.prototype.refresh=function(fullUpdate){this._maskProvider.refresh()};InputMask.controlTemplate='<div class="wj-input">'+'<div class="wj-input-group">'+'<input wj-part="input" class="wj-form-control"/>'+"</div>";return InputMask}(wijmo.Control);input.InputMask=InputMask})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));var __extends=this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __};var wijmo;(function(wijmo){(function(input){"use strict";var InputColor=function(_super){__extends(InputColor,_super);function InputColor(element,options){_super.call(this,element);this._required=true;this.valueChanged=new wijmo.Event;this._tbx.style.paddingLeft="24px";this._ePreview=wijmo.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>');this.hostElement.style.position="relative";this.hostElement.appendChild(this._ePreview);if(this._orgTag=="INPUT"){this._tbx.type="";this._commitText()}this.value="#ffffff";this.initialize(options)}Object.defineProperty(InputColor.prototype,"value",{get:function(){return this._value},set:function(value){if(value!=this.value){if(value||!this.required){this.text=wijmo.asString(value)}}},enumerable:true,configurable:true});Object.defineProperty(InputColor.prototype,"text",{get:function(){return this._tbx.value},set:function(value){if(value!=this.text){this._setText(wijmo.asString(value),true);this._commitText()}},enumerable:true,configurable:true});Object.defineProperty(InputColor.prototype,"required",{get:function(){return this._required},set:function(value){this._required=wijmo.asBoolean(value)},enumerable:true,configurable:true});Object.defineProperty(InputColor.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(value){this._colorPicker.showAlphaChannel=value},enumerable:true,configurable:true});Object.defineProperty(InputColor.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:true,configurable:true});InputColor.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputColor.prototype._createDropDown=function(){var self=this;this._colorPicker=new input.ColorPicker(this._dropDown);wijmo.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler(function(){self.value=self._colorPicker.value})};InputColor.prototype._keydown=function(e){switch(e.keyCode){case 13:this.isDroppedDown=false;this._commitText();this.selectAll();break;case 27:this.isDroppedDown=false;this.text=this.value;this.selectAll();break}_super.prototype._keydown.call(this,e)};InputColor.prototype._blur=function(){_super.prototype._blur.call(this);this._commitText()};InputColor.prototype._commitText=function(){if(this.value!=this.text){if(!this.required&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor="";return}var c=wijmo.Color.fromString(this.text);if(c){this._colorPicker.value=this.text;this._value=this._colorPicker.value;this._ePreview.style.backgroundColor=this.value;this.onValueChanged()}else{this.text=this._value?this._value:""}}};return InputColor}(input.DropDown);input.InputColor=InputColor})(wijmo.input||(wijmo.input={}));var input=wijmo.input})(wijmo||(wijmo={}));